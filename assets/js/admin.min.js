var POS=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=224)}([function(t,e){t.exports=_},function(t,e,n){var i=n(9),r=n(2),o=n(0),s=n(3),a=n(7),c=n(13),u=n(6),l=n(8),h=n(4),f=n(18);t.exports=i.Application.extend({_initChannel:function(){this.channelName=o.result(this,"channelName")||"global",this.channel=o.result(this,"channel")||r.channel(this.channelName)},_initDebug:function(t){t&&l.enable("*"),r.DEBUG=t,console.info("Debugging is "+(t?"on":"off")+", visit http://woopos.com.au/docs/debugging")},_initOptions:function(t){t=t||{},a.Templates=t.templates||{},u.extend(t.i18n),this.options=t.params||{},this._initDebug(this.options.debug),h.emulateHTTP=!0===this.options.emulateHTTP,f.settings=this.options.accounting},start:function(t){var e=this;s.getJSON(t.ajaxurl,{action:t.action||"wc_pos_payload",security:t.nonce},function(t){0===t&&window.location.replace("/wp-login.php?pos=1"),e._initOptions(t),i.Application.prototype.start.call(e,t)})},set:function(t,e){o.set(this,t,e)},namespace:function(t){return(window.adminpage?"wc_pos-":"")+t},debug:l,polyglot:u,Utils:c}),i.TemplateCache.prototype.loadTemplate=function(t){return o.get(a.Templates,t.split("."),s(t).html())},i.TemplateCache.prototype.compileTemplate=function(t){return a.compile(t)}},function(t,e){t.exports=Backbone.Radio},function(t,e){t.exports=jQuery},function(t,e){t.exports=Backbone},function(t,e,n){var i=n(9),r=n(1);t.exports=r.prototype.ItemView=i.ItemView},function(t,e,n){var i=n(41);t.exports=new i},function(t,e){t.exports=Handlebars},function(t,e,n){(function(i){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(58)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++r)}),t.splice(o,0,i)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())}).call(e,n(27))},function(t,e){t.exports=Marionette},function(t,e,n){var i=n(9),r=n(1);t.exports=r.prototype.LayoutView=i.LayoutView.extend({working:function(t){"start"===t?this.$el.addClass("working"):this.$el.removeClass("working")}})},function(t,e,n){var i=n(4),r=n(9),o=n(3),s=n(0),a=n(1),c=n(113),u=n(2).channel("global");t.exports=a.prototype.Route=r.Object.extend({constructor:function(){this.initialize.apply(this,arguments)},_triggerMethod:function(t,e){this.router&&this.router.triggerMethod.apply(this.router,[t+":route"].concat(e)),this.triggerMethod.apply(this,[t].concat(e))},enter:function(t){var e=this;return this.transitioning=!0,this._triggerMethod("before:enter",t),this._triggerMethod("before:fetch",t),s.defer(function(){e.transitioning&&(e.loading=new c({container:e.container}))}),o.when(this.fetch.call(this,t)).then(function(){e._triggerMethod("fetch",t),e._triggerMethod("before:render",t)}).then(function(){return e.transitioning=!1,e.render.apply(e,t)}).then(function(){e._triggerMethod("render",t),e._triggerMethod("enter",t)}).fail(function(){e._triggerMethod("error",t)})},navigate:function(){i.history.navigate.apply(i.history,arguments)},fetch:function(){},render:function(){},setTabLabel:function(t){u.trigger("tab:label",t)}})},function(t,e,n){var i=n(9),r=n(2),o=n(1),s=n(0);t.exports=o.prototype.Service=i.Object.extend({constructor:function(t){t=t||{},this.channelName&&(this.channel=r.channel(s.result(this,"channelName"))),t.app&&(this.app=t.app),i.Object.apply(this,arguments)},start:function(){this.triggerMethod("before:start"),this._isStarted=!0,this.triggerMethod("start")},stop:function(){this.triggerMethod("before:stop"),this._isStarted=!1,this.triggerMethod("stop")},isStarted:function(){return!0===this._isStarted}})},function(t,e,n){var i=n(18),r=n(0),o={round:function(t,e,n){var o,s,a,c;if(r.isFinite(parseInt(e,10))||(e=i.settings.currency.precision),a=(t*=o=Math.pow(10,e))%1==.5*(c=t>0|-(t<0)),s=Math.floor(t),a)switch(n){case"2":case"PHP_ROUND_HALF_DOWN":t=s+(c<0);break;case"3":case"PHP_ROUND_HALF_EVEN":t=s+s%2*c;break;case"4":case"PHP_ROUND_HALF_ODD":t=s+!(s%2);break;default:t=s+(c>0)}return(a?t:Math.round(t))/o},decimalPlaces:function(t){return(+t).toFixed(4).replace(/^-?\d*\.?|0+$/g,"").length},unformat:function(t){return i.unformat(t,i.settings.number.decimal)},formatNumber:function(t,e){return"auto"===e&&(e=o.decimalPlaces(t)),r.isFinite(parseInt(e,10))||(e=i.settings.currency.precision),i.formatNumber(t,e)},formatMoney:function(t,e){return"auto"===e&&(e=o.decimalPlaces(t)),r.isFinite(parseInt(e,10))||(e=i.settings.currency.precision),t=o.round(t,e),i.formatMoney(t)},isPositiveInteger:function(t,e){var n=~~Number(t);return e?String(n)===t&&n>=0:String(n)===t&&n>0},parseErrorResponse:function(t){var e=t.responseJSON;return e.errors?e.errors[0].message:t.responseText},toType:function(t){return{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}};t.exports=o},function(t,e,n){var i=n(4),r=n(1);t.exports=r.prototype.Collection=i.Collection.extend({constructor:function(){i.Collection.apply(this,arguments),this._isNew=!0,this.once("sync",function(){this._isNew=!1})},isNew:function(){return this._isNew},parse:function(t){return t&&t[this.name]?t[this.name]:t},sync:function(){return i.sync.apply(this,arguments)}})},function(t,e,n){var i=n(9),r=n(1);t.exports=r.prototype.Behavior=i.Behavior},function(t,e,n){var i=n(4),r=n(1),o=n(0),s={float:parseFloat,int:parseInt,number:function(t){return t=Number(t),o.isNaN(t)?0:t}};t.exports=r.prototype.Model=i.Model.extend({parse:function(t){var e=t&&t[this.name]?t[this.name]:t;if(e)return o.each(this.schema,function(t,n){o.has(e,n)&&o.isString(t)&&s[t]&&(e[n]=s[t](e[n]))},this),e}})},function(t,e,n){var i=n(5),r=n(4),o=n(1);n(109),n(110),n(111),t.exports=o.prototype.FormView=i.extend({constructor:function(){return i.prototype.constructor.apply(this,arguments)},bindings:{},render:function(){var t=Array.prototype.slice.apply(arguments),e=i.prototype.render.apply(this,t);return r.Validation.bind(this,{model:this.model,valid:function(t,e){t.$('input[name="'+e+'"]').removeClass("form-control-error").parent().removeClass("has-error")},invalid:function(t,e){t.$('input[name="'+e+'"]').addClass("form-control-error").parent().addClass("has-error")}}),this.stickit(),e},remove:function(){return r.Validation.unbind(this),i.prototype.remove.apply(this,arguments)}})},function(t,e){t.exports=accounting},function(t,e,n){var i=n(0),r=n(4),o=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],s=["add","remove","reset","sort","destroy","sync","request","error"];t.exports=function(t,e){function n(){e.length=t.length}var a={};return i.each(i.functions(r.Collection.prototype),function(e){i.contains(o,e)||(a[e]=function(){return t[e].apply(t,arguments)})}),i.extend(e,r.Events,a),e.listenTo(t,"all",n),e.listenTo(t,"all",function(n){var r=i.toArray(arguments),o="change"===n||"change:"===n.slice(0,7);"reset"===n&&(e.models=t.models),i.contains(s,n)?(i.contains(["add","remove","destroy"],n)?r[2]=e:i.contains(["reset","sort"],n)&&(r[1]=e),e.trigger.apply(this,r)):o&&e.contains(r[1])&&e.trigger.apply(this,r)}),e.models=t.models,n(),e}},function(t,e,n){"use strict";var i=n(45);t.exports=Function.prototype.bind||i},function(t,e,n){var i=n(4).Radio,r=n(8)("dualCollection"),o=n(34),s=n(1),a=n(0),c=n(3),u=n(35);t.exports=s.prototype.DualCollection=o.extend({keyPath:"local_id",mergeKeyPath:"id",_syncDelayed:!0,queue:[],delay:500,url:function(){return i.request("entities","get",{type:"option",name:"wc_api"})+this.name},state:{pageSize:10},fetch:function(t){return(t=t||{}).remote?this.remoteFetch(t):o.prototype.fetch.call(this,t)},remoteFetch:function(t){var e=this;return this.sync("read",this,t).then(function(t){var n=e.parse(t);return o.prototype.merge.call(e,n)}).then(function(t){var n=a.map(t,function(t){return t.get("id")});e.dequeue(n)})},fullSync:function(){var t=this;if(!this._syncing)return this._syncing=!0,r("fullSync started"),this.trigger("start:fullSync"),this.fetchUpdated().then(function(){return t.auditRecords()}).then(function(){if(t._syncDelayed)return t.syncDelayed()}).done(function(){r("fullSync complete")}).fail(function(t){r("fullSync failed",t)}).always(function(){t._syncing=!1,t.trigger("end:fullSync")});r("sync already in progress")},fetchUpdated:function(){var t=this;if(0===this.length)return this.fetch({remote:!0});var e=a.compact(this.pluck("updated_at")).sort().pop();return this.getRemoteIds(e).then(function(e){return t.enqueue(e),t.processQueue({queue:e,all:!0})})},syncDelayed:function(){var t=this.getDelayedModels(),e=a.map(t,function(t){return t.remoteSync(null,t)});return c.when.apply(this,e)},getDelayedModels:function(){return this.filter(function(t){return t.isDelayed()})},auditRecords:function(){var t=this.pluck("id"),e=this;return this.getRemoteIds().then(function(n){var i=a.chain(n).difference(t).compact().value(),r=a.chain(t).difference(n).compact().value();return e.enqueue(i),e.dequeue(r),e.removeGarbage(r)}).done(function(){r("audit complete")}).fail(function(t){r("audit failed",t)})},getRemoteIds:function(t){var e=i.request("entities","get",{type:"option",name:"ajaxurl"});return r(t?"getting updated ids from server since "+t:"getting all ids from server"),c.getJSON(e,{action:"wc_pos_get_all_ids",type:this.name,updated_at_min:t})},removeGarbage:function(t){var e=this.getModelsByRemoteIds(t);if(0!==e.length)return this.remove(e),this.db.removeBatch(a.pluck(e,"id"))},getModelsByRemoteIds:function(t){return this.filter(function(e){return a(t).contains(e.get("id"))})},enqueue:function(t){if(!a.isArray(t))return this.queue.push(t);this.queue=a.union(this.queue,t)},dequeue:function(t){a.isArray(t)?this.queue=a.difference(this.queue,t):this.queue=a.without(this.queue,t)},hasAllRecords:function(){return 0===this.queue.length},processQueue:function(t){var e=(t=t||{}).queue||a.clone(this.queue);if(0!==e.length&&!this._processingQueue){this._processingQueue=!0,this.trigger("start:processQueue");var n=this,i=new c.Deferred,r=e.splice(0,this.state.pageSize).join(",");return this.fetch({remote:!0,data:{filter:t.filter||{limit:-1,in:r}}}).done(function(){t.all&&0!==e.length?(i.progress(r),a.delay(n.processQueue.bind(n),n.getDelay(),t)):i.resolve()}).fail(i.reject).always(function(){n._processingQueue=!1,n.trigger("end:processQueue")}),i.promise()}},getDelay:function(){return i.request("entities","get",{type:"option",name:"delay"})||this.delay},clear:function(){if(this.db){var t=this;return o.prototype.clear.call(this).then(function(){t.queue=[]})}},formatDate:function(t){if(t)return u(t).toISOString()}})},function(t,e,n){var i=n(23),r=n(1),o=n(0),s=n(8)("dualModel");t.exports=r.prototype.DualModel=i.extend({idAttribute:"local_id",remoteIdAttribute:"id",fields:["title"],validate:function(t){var e={};t[this.idAttribute]&&(e[this.idAttribute]=parseInt(t[this.idAttribute],10)),t[this.remoteIdAttribute]&&(e[this.remoteIdAttribute]=parseInt(t[this.remoteIdAttribute],10)),this.set(e,{silent:!0})},url:function(){var t=this.get(this.remoteIdAttribute),e=o.result(this.collection,"url");return t?e+"/"+t+"/":e},states:{update:"UPDATE_FAILED",create:"CREATE_FAILED",delete:"DELETE_FAILED"},hasRemoteId:function(){return!!this.get(this.remoteIdAttribute)},isDelayed:function(){var t=this.get("status");return t===this.states.update||t===this.states.create||t===this.states.delete},sync:function(t,e,n){n=n||{};var r=o.clone(n);r.remote=void 0;var s="patch"===t?"update":t;return this.setStatus(s),i.prototype.sync.call(this,s,e,r).then(function(){if(n.remote)return e.remoteSync(t,e,n)})},remoteSync:function(t,e,n){return e=e||this,(n=n||{}).remote=!0,t=t||e.getMethod(),i.prototype.sync.call(this,t,e,n).then(function(t){if(t){var n=e.parse(t);return e.merge(n)}})},setStatus:function(t){this.states[t]&&("update"!==t||this.hasRemoteId()||(t="create"),this.set({status:this.states[t]}))},getMethod:function(){var t=this.get("status"),e=o.findKey(this.states,function(e){return e===t});if(e)return e;s("No method given for remote sync")},merge:function(t){if(this.set(t),this.isDelayed()&&this.unset("status"),this.collection&&this.collection.db)return this.collection.merge(this.toJSON())}})},function(t,e,n){var i=n(1),r=n(16),o=n(65);t.exports=i.prototype.DeepModel=r.extend(o)},function(t,e,n){var i=n(15),r=n(1),o=n(0),s=n(3),a=n(38),c=(r=n(1)).prototype.namespace("tooltip"),u=a.createContext({classPrefix:c}),l={position:"top center",openOn:"hover",classes:c+"-theme-arrows",constrainToWindow:!0,constrainToScrollParent:!1,remove:!0},h=i.extend({_initialized:[],initialize:function(t){this.options=o.extend({},l,t),this.ui={tooltip:'*[data-toggle="'+c+'"]'}},events:{"mouseenter @ui.tooltip":"onHover"},onHover:function(t){if(-1===this._initialized.indexOf(t.target)){var e=o.extend({},this.options,{target:t.target,content:s(t.target).attr("title")}),n=new u(e);this._initialized.push(t.target),s(t.target).removeAttr("title"),n.open()}}});t.exports=h,r.prototype.set("Behaviors.Tooltip",h)},function(t,e,n){var i=n(9),r=n(1);t.exports=r.prototype.CollectionView=i.CollectionView.extend({})},function(t,e,n){var i=n(5),r=n(7),o=n(0),s=n(107),a=n(6),c=n(108);t.exports=i.extend({viewOptions:["buttons"],buttons:[{action:"save",className:"btn-primary"}],template:r.compile(s),initialize:function(t){this.mergeOptions(t,this.viewOptions)},templateHelpers:function(){return o.each(this.buttons,function(t){t[t.type||"button"]=!0,t.label=t.label||a.t("buttons."+t.action)}),{buttons:this.buttons}},behaviors:{Buttons:{behaviorClass:c}}})},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){var i=n(20);t.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var i=n(47),r=n(49),o="function"==typeof Symbol&&"symbol"==typeof Symbol(),s=Object.prototype.toString,a=Object.defineProperty&&function(){var t={};try{for(var e in Object.defineProperty(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,n,i){var r;e in t&&("function"!=typeof(r=i)||"[object Function]"!==s.call(r)||!i())||(a?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},u=function(t,e){var n=arguments.length>2?arguments[2]:{},s=i(e);o&&(s=s.concat(Object.getOwnPropertySymbols(e))),r(s,function(i){c(t,i,e[i],n[i])})};u.supportsDescriptors=!!a,t.exports=u},function(t,e,n){"use strict";var i=n(20),r=n(50),o=i.call(Function.call,String.prototype.replace),s=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return o(o(t,s,""),a,"")}},function(t,e,n){"use strict";var i=Function.prototype.toString,r=/^\s*class /,o=function(t){try{var e=i.call(t).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return r.test(e)}catch(t){return!1}},s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(a)return function(t){try{return!o(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(o(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e,n){"use strict";var i=n(30);t.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:i}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(14),r=n(1),o=n(62),s=n(2);t.exports=r.prototype.IndexedDBCollection=i.extend({name:"store",storePrefix:"wc_pos_",dbVersion:4005,keyPath:"local_id",autoIncrement:!0,indexes:[{name:"local_id",keyPath:"local_id",unique:!0},{name:"id",keyPath:"id",unique:!0},{name:"status",keyPath:"status",unique:!1}],constructor:function(){i.apply(this,arguments);var t={storeName:this.name,storePrefix:this.storePrefix,dbVersion:this.dbVersion,keyPath:this.keyPath,autoIncrement:this.autoIncrement,indexes:this.indexes,defaultErrorHandler:function(t){s.trigger("global","error",{status:t.target.error.name,message:t.target.error.message})}};this.db=new o(t,this),this.versionCheck(),this.db.open().fail(function(t){s.trigger("global","error",{status:"indexedDB error",message:t})})},merge:function(t){var e=this;return this.db.merge(t).then(function(){var t=Array.prototype.slice.apply(arguments);return e.add(t,{merge:!0})})},clear:function(){if(this.db){var t=this;return this.db.open().then(function(){return t.reset(),t.db.clear()})}},versionCheck:function(){var t=this.name,e=parseInt(s.request("entities","get",{type:"option",name:"idbVersion"}),10)||0,n=parseInt(s.request("entities","get",{type:"localStorage",name:t+"_idbVersion"}),10)||0;e!==n&&this.clear().then(function(){s.request("entities","set",{type:"localStorage",name:t+"_idbVersion",data:e})})}})},function(t,e){t.exports=moment},function(t,e,n){var i=n(0),r=n(4),o=n(68),s=n(70),a=n(72),c=n(19),u=n(73),l=n(74);function h(t,e){this._superset=t,this._filtered=new o(t,e),this._sorted=new s(this._filtered,e),this._paginated=new a(this._sorted,e),c(this._paginated,this),u.call(this,this._filtered,d),u.call(this,this._sorted,p),u.call(this,this._paginated,g),this.initialize(e)}i.extend(o.prototype,l);var f={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},d=["filtered:add","filtered:remove","filtered:reset"],p=["sorted:add","sorted:remove"],g=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];i.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters","query","getQuery","getTokens","getRemoteFilter"],function(t){f[t]=function(){var e=o.prototype[t].apply(this._filtered,arguments);return e===this._filtered?this:e}}),i.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage","appendNextPage"],function(t){f[t]=function(){var e=a.prototype[t].apply(this._paginated,arguments);return e===this._paginated?this:e}}),i.each(["setSort","reverseSort","removeSort"],function(t){f[t]=function(){var e=s.prototype[t].apply(this._sorted,arguments);return e===this._sorted?this:e}}),i.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],function(t){f[t]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+t+"called on read-only proxy")}}),i.extend(h.prototype,f,r.Events),(h=r.Collection.extend(h.prototype)).FilteredCollection=o,h.SortedCollection=s,h.PaginatedCollection=a,t.exports=h},function(t,e,n){var i=n(23),r=n(2),o=n(6);t.exports=i.extend({initialize:function(){this.url=r.request("entities","get",{type:"option",name:"ajaxurl"})},sync:function(t,e,n){var o=r.request("entities","get",{type:"option",name:"nonce"}),s="id="+e.get("id"),a="security="+o;return n.url=this.url+"?action=wc_pos_admin_settings&"+s+"&"+a,n.buttons&&this.updateButtonState(n),i.prototype.sync(t,e,n)},parse:function(t){return t||(t=null),t},updateButtonState:function(t){var e=t.success,n=t.error,i=t.buttons;i.trigger("state",["loading",""]),t.success=function(t,n,r){e&&e(t,n,r),i.trigger("state",["success",null])},t.error=function(t,e,r){n&&n(t,e,r);var s=null;t.status&&405===t.status&&(s=o.t("messages.legacy")+'. <a href="#tools">'+o.t("buttons.legacy")+"</a>."),!s&&t.responseJSON&&t.responseJSON.errors&&(s=t.responseJSON.errors[0].message),i.trigger("state",["error",s])}},destroy:function(t){var e=this;return this.sync("delete",this,t).then(function(t){t.id=e.id,e.clear({silent:!0}).set(t)})}})},function(t,e,n){var i,r,o,s;s=function(t){"use strict";var e=Function.prototype.bind,n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=s,i=!0,a=u=void 0}};var o=t.Utils,s=o.extend,a=o.addClass,c=o.removeClass,u=o.hasClass,l=o.Evented;function h(t){var e=t.split(" "),i=n(e,2),r=i[0],o=i[1];if(["left","right"].indexOf(r)>=0){var s=[o,r];r=s[0],o=s[1]}return[r,o].join(" ")}function f(t,e){for(var n=void 0,i=[];-1!==(n=t.indexOf(e));)i.push(t.splice(n,1));return i}var d=["click"];"ontouchstart"in document.documentElement&&d.push("touchstart");var p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},g="";for(var v in p){if({}.hasOwnProperty.call(p,v))void 0!==document.createElement("p").style[v]&&(g=p[v])}var m={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},y={};var b=function n(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],p=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return new(e.apply(b,[null].concat(n)))};s(p,{createContext:n,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};s(p,v,o),s(p.defaults,v.defaults,o.defaults),void 0===y[p.classPrefix]&&(y[p.classPrefix]=[]),p.updateBodyClasses=function(){for(var t=!1,e=y[p.classPrefix],n=e.length,i=0;i<n;++i)if(e[i].isOpened()){t=!0;break}t?a(document.body,p.classPrefix+"-open"):c(document.body,p.classPrefix+"-open")};var b=function(e){function n(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.options=s({},p.defaults,t),this.target=this.options.target,void 0===this.target)throw new Error("Drop Error: You must provide a target.");var e="data-"+p.classPrefix,i=this.target.getAttribute(e);i&&null==this.options.content&&(this.options.content=i);for(var o=["position","openOn"],c=0;c<o.length;++c){var u=this.target.getAttribute(e+"-"+o[c]);u&&null==this.options[o[c]]&&(this.options[o[c]]=u)}this.options.classes&&!1!==this.options.addTargetClasses&&a(this.target,this.options.classes),p.drops.push(this),y[p.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,l),i(n,[{key:"_on",value:function(t,e,n){this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var t=this;if(this.drop=document.createElement("div"),a(this.drop,p.classPrefix),this.options.classes&&a(this.drop,this.options.classes),this.content=document.createElement("div"),a(this.content,p.classPrefix+"-content"),"function"==typeof this.options.content){var e=function(){var e=t.options.content.call(t,t);if("string"==typeof e)t.content.innerHTML=e;else{if("object"!=typeof e)throw new Error("Drop Error: Content function should return a string or HTMLElement.");t.content.innerHTML="",t.content.appendChild(e)}};e(),this.on("open",e.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var e=this.options.position.split(" ");e[0]=m[e[0]],e=e.join(" ");var n=[];this.options.constrainToScrollParent?n.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):n.push({to:"scrollParent"}),!1!==this.options.constrainToWindow?n.push({to:"window",attachment:"together"}):n.push({to:"window"});var i={element:this.drop,target:this.target,attachment:h(e),targetAttachment:h(this.options.position),classPrefix:p.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};!1!==this.options.tetherOptions&&(this.tether=new t(s({},i,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var t=this;if(this.options.openOn)if("always"!==this.options.openOn){var e=this.options.openOn.split(" ");if(e.indexOf("click")>=0)for(var n=function(e){t.toggle(e),e.preventDefault()},i=function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.target||t.target.contains(e.target)||t.close(e))},r=0;r<d.length;++r){var o=d[r];this._on(this.target,o,n),this._on(document,o,i)}var s=null,a=null,c=function(e){null!==a?clearTimeout(a):s=setTimeout(function(){t.open(e),s=null},("focus"===e.type?t.options.focusDelay:t.options.hoverOpenDelay)||t.options.openDelay)},u=function(e){null!==s?clearTimeout(s):a=setTimeout(function(){t.close(e),a=null},("blur"===e.type?t.options.blurDelay:t.options.hoverCloseDelay)||t.options.closeDelay)};e.indexOf("hover")>=0&&(this._on(this.target,"mouseover",c),this._on(this.drop,"mouseover",c),this._on(this.target,"mouseout",u),this._on(this.drop,"mouseout",u)),e.indexOf("focus")>=0&&(this._on(this.target,"focus",c),this._on(this.drop,"focus",c),this._on(this.target,"blur",u),this._on(this.drop,"blur",u))}else setTimeout(this.open.bind(this))}},{key:"isOpened",value:function(){if(this.drop)return u(this.drop,p.classPrefix+"-open")}},{key:"toggle",value:function(t){this.isOpened()?this.close(t):this.open(t)}},{key:"open",value:function(t){var e=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),void 0!==this.tether&&this.tether.enable(),a(this.drop,p.classPrefix+"-open"),a(this.drop,p.classPrefix+"-open-transitionend"),setTimeout(function(){e.drop&&a(e.drop,p.classPrefix+"-after-open")}),void 0!==this.tether&&this.tether.position(),this.trigger("open"),p.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(t){t.target===t.currentTarget&&(u(this.drop,p.classPrefix+"-open")||c(this.drop,p.classPrefix+"-open-transitionend"),this.drop.removeEventListener(g,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(t){var e=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,e=!1!==this.options.beforeClose(t,this)),this.isClosing=!1,e}},{key:"close",value:function(t){this.isOpened()&&this.beforeCloseHandler(t)&&(c(this.drop,p.classPrefix+"-open"),c(this.drop,p.classPrefix+"-after-open"),this.drop.addEventListener(g,this.transitionEndHandler),this.trigger("close"),void 0!==this.tether&&this.tether.disable(),p.updateBodyClasses(),this.options.remove&&this.remove(t))}},{key:"remove",value:function(t){this.close(t),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&void 0!==this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),void 0!==this.tether&&this.tether.destroy();for(var t=0;t<this._boundEvents.length;++t){var e=this._boundEvents[t],n=e.element,i=e.event,r=e.handler;n.removeEventListener(i,r)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,f(y[p.classPrefix],this),f(p.drops,this)}}]),n}();return p}();return document.addEventListener("DOMContentLoaded",function(){b.updateBodyClasses()}),b},r=[n(90)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i=n(4),r=n(9),o=n(3),s=n(0),a=n(11),c=n(1);t.exports=c.prototype.Router=r.AppRouter.extend({constructor:function(){this.channel=i.Radio.channel("router"),this.on("all",this._onRouterEvent),this.listenTo(i.history,"route",this._onHistoryRoute),r.AppRouter.apply(this,arguments)},_onRouterEvent:function(t){var e=s.toArray(arguments).slice(1);this.channel.trigger.apply(this.channel,[t,this].concat(e))},_onHistoryRoute:function(t){this===t?this.active=!0:(this.active=!1,this._currentRoute=void 0)},execute:function(t,e){var n=this;this.active||this.triggerMethod.apply(this,["before:enter"].concat(e)),this.triggerMethod.apply(this,["before:route"].concat(e)),o.when(this._execute(t,e)).then(function(){n.active||n.triggerMethod.apply(n,["enter"].concat(e)),n.triggerMethod.apply(n,["route"].concat(e))})},_execute:function(t,e){var n=t.apply(this,e);if(this._currentRoute=n,n instanceof a)return n.router=this,n.enter(e)},triggerMethod:r.triggerMethod})},function(t,e,n){var i=n(15),r=n(1),o=n(3),s=n(2),a=i.extend({ui:{toggle:'*[data-action^="legacy-"]'},events:{"click @ui.toggle":"toggle"},toggle:function(t){t.preventDefault();var e=s.request("entities","get",{type:"option",name:"ajaxurl"}),n=s.request("entities","get",{type:"option",name:"nonce"});o.getJSON(e,{action:"wc_pos_toggle_legacy_server",enable:"enable"===o(t.target).data("action").split("-").pop(),security:n},function(){window.location.reload()})}});t.exports=a,r.prototype.set("Behaviors.EmulateHTTP",a)},function(t,e,n){"use strict";var i=n(42),r=n(44),o=n(28),s=n(46),a=function(t){r(!1,t)},c=String.prototype.replace,u=String.prototype.split,l="||||",h={arabic:function(t){return t<3?t:t%100>=3&&t%100<=10?3:t%100>=11?4:5},chinese:function(){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},f={arabic:["ar"],chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru","lt"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function d(t){var e,n=(e={},i(f,function(t,n){i(t,function(t){e[t]=n})}),e);return n[t]||n[u.call(t,/-/,1)[0]]||n.en}var p=/\$/g,g="$$",v=/%\{(.*?)\}/g;function m(t,e,n){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var i,r,a=t,f="number"==typeof e?{smart_count:e}:e;if(null!=f.smart_count&&a){var m=u.call(a,l);a=s(m[(i=n||"en",r=f.smart_count,h[d(i)](r))]||m[0])}return a=c.call(a,v,function(t,e){return o(f,e)&&null!=f[e]?c.call(f[e],p,g):t})}function y(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var n=e.allowMissing?m:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:n,this.warn=e.warn||a}y.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},y.prototype.extend=function(t,e){i(t,function(t,n){var i=e?e+"."+n:n;"object"==typeof t?this.extend(t,i):this.phrases[i]=t},this)},y.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:i(t,function(t,n){var i=e?e+"."+n:n;"object"==typeof t?this.unset(t,i):delete this.phrases[i]},this)},y.prototype.clear=function(){this.phrases={}},y.prototype.replace=function(t){this.clear(),this.extend(t)},y.prototype.t=function(t,e){var n,i,r=null==e?{}:e;if("string"==typeof this.phrases[t])n=this.phrases[t];else if("string"==typeof r._)n=r._;else if(this.onMissingKey){i=(0,this.onMissingKey)(t,r,this.currentLocale)}else this.warn('Missing translation for key: "'+t+'"'),i=t;return"string"==typeof n&&(i=m(n,r,this.currentLocale)),i},y.prototype.has=function(t){return o(this.phrases,t)},y.transformPhrase=m,t.exports=y},function(t,e,n){var i=n(43);t.exports=function(t,e,n){if(!i(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this);"[object Array]"===r.call(t)?function(t,e,n){for(var i=0,r=t.length;i<r;i++)o.call(t,i)&&e.call(n,t[i],i,t)}(t,e,n):"string"==typeof t?function(t,e,n){for(var i=0,r=t.length;i<r;i++)e.call(n,t.charAt(i),i,t)}(t,e,n):function(t,e,n){for(var i in t)o.call(t,i)&&e.call(n,t[i],i,t)}(t,e,n)};var r=Object.prototype.toString,o=Object.prototype.hasOwnProperty},function(t,e){t.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},function(t,e,n){"use strict";(function(e){var n=function(){};"production"!==e.env.NODE_ENV&&(n=function(t,e,n){var i=arguments.length;n=new Array(i>2?i-2:0);for(var r=2;r<i;r++)n[r-2]=arguments[r];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(!t){var o=0,s="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(s);try{throw new Error(s)}catch(t){}}}),t.exports=n}).call(e,n(27))},function(t,e,n){"use strict";var i=Array.prototype.slice,r=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==r.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,o=i.call(arguments,1),s=Math.max(0,e.length-o.length),a=[],c=0;c<s;c++)a.push("$"+c);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var r=e.apply(this,o.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,o.concat(i.call(arguments)))}),e.prototype){var u=function(){};u.prototype=e.prototype,n.prototype=new u,u.prototype=null}return n}},function(t,e,n){"use strict";var i=n(20),r=n(29),o=n(30),s=n(32),a=n(57),c=i.call(Function.call,s());r(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Array.prototype.slice,s=n(48),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),p=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===r.call(t),o=s(t),a=e&&"[object String]"===r.call(t),f=[];if(!e&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(a&&t.length>0&&!i.call(t,0))for(var g=0;g<t.length;++g)f.push(String(g));if(o&&t.length>0)for(var v=0;v<t.length;++v)f.push(String(v));else for(var m in t)p&&"prototype"===m||!i.call(t,m)||f.push(String(m));if(c)for(var y=function(t){if("undefined"==typeof window||!d)return h(t);try{return h(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)y&&"constructor"===l[b]||!i.call(t,l[b])||f.push(l[b]);return f};p.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return s(e)?t(o.call(e)):t(e)}}}else Object.keys=p;return Object.keys||p},t.exports=p},function(t,e,n){"use strict";var i=Object.prototype.toString;t.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},function(t,e){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function(t,e,r){if("[object Function]"!==i.call(e))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var s=0;s<o;s++)e.call(r,t[s],s,t);else for(var a in t)n.call(t,a)&&e.call(r,t[a],a,t)}},function(t,e,n){"use strict";var i=n(51),r=n(52),o=n(53),s=n(54),a=n(31),c=n(55),u=n(28),l={ToPrimitive:c,ToBoolean:function(t){return!!t},ToNumber:function(t){return Number(t)},ToInteger:function(t){var e=this.ToNumber(t);return i(e)?0:0!==e&&r(e)?o(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(i(e)||0===e||!r(e))return 0;var n=o(e)*Math.floor(Math.abs(e));return s(n,65536)},ToString:function(t){return String(t)},ToObject:function(t){return this.CheckObjectCoercible(t),Object(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new TypeError(e||"Cannot call method on "+t);return t},IsCallable:a,SameValue:function(t,e){return t===e?0!==t||1/t==1/e:i(t)&&i(e)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(u(t,n)&&!e[n])return!1;var i=u(t,"[[Value]]"),r=u(t,"[[Get]]")||u(t,"[[Set]]");if(i&&r)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){if(void 0===t)return!1;if(!this.IsPropertyDescriptor(t))throw new TypeError("Desc must be a Property Descriptor");return!(!u(t,"[[Get]]")&&!u(t,"[[Set]]"))},IsDataDescriptor:function(t){if(void 0===t)return!1;if(!this.IsPropertyDescriptor(t))throw new TypeError("Desc must be a Property Descriptor");return!(!u(t,"[[Value]]")&&!u(t,"[[Writable]]"))},IsGenericDescriptor:function(t){if(void 0===t)return!1;if(!this.IsPropertyDescriptor(t))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t)},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(!this.IsPropertyDescriptor(t))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new TypeError("ToPropertyDescriptor requires an object");var e={};if(u(t,"enumerable")&&(e["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),u(t,"configurable")&&(e["[[Configurable]]"]=this.ToBoolean(t.configurable)),u(t,"value")&&(e["[[Value]]"]=t.value),u(t,"writable")&&(e["[[Writable]]"]=this.ToBoolean(t.writable)),u(t,"get")){var n=t.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");e["[[Get]]"]=n}if(u(t,"set")){var i=t.set;if(void 0!==i&&!this.IsCallable(i))throw new TypeError("setter must be a function");e["[[Set]]"]=i}if((u(e,"[[Get]]")||u(e,"[[Set]]"))&&(u(e,"[[Value]]")||u(e,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}};t.exports=l},function(t,e){t.exports=Number.isNaN||function(t){return t!=t}},function(t,e){var n=Number.isNaN||function(t){return t!=t};t.exports=Number.isFinite||function(t){return"number"==typeof t&&!n(t)&&t!==1/0&&t!==-1/0}},function(t,e){t.exports=function(t){return t>=0?1:-1}},function(t,e){t.exports=function(t,e){var n=t%e;return Math.floor(n>=0?n:n+e)}},function(t,e,n){"use strict";var i=Object.prototype.toString,r=n(56),o=n(31),s=function(t,e){var n=e||("[object Date]"===i.call(t)?String:Number);if(n===String||n===Number){var s,a,c=n===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<c.length;++a)if(o(t[c[a]])&&(s=t[c[a]](),r(s)))return s;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};t.exports=function(t,e){return r(t)?t:s(t,e)}},function(t,e){t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},function(t,e,n){"use strict";var i=n(29),r=n(32);t.exports=function(){var t=r();return i(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},function(t,e,n){function i(t){var n;function i(){if(i.enabled){var t=i,r=+new Date,o=r-(n||r);t.diff=o,t.prev=n,t.curr=r,n=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;c++;var r=e.formatters[i];if("function"==typeof r){var o=s[c];n=r.call(t,o),s.splice(c,1),c--}return n}),e.formatArgs.call(t,s),(i.log||e.log||console.log.bind(console)).apply(t,s)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),i.destroy=r,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function r(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(59),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,i=60*n,r=60*i,o=24*r,s=365.25*o;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var c,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?a(c=t,o,"day")||a(c,r,"hour")||a(c,i,"minute")||a(c,n,"second")||c+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=r)return Math.round(t/r)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(e){var i=n(12),r=n(61),o=n(77),s=n(79),a=n(81),c=n(83),u=n(37),l=n(85),h=n(86),f=n(36),d=n(8)("entities"),p=n(1),g=n(0),v=e.localStorage||window.localStorage,m=e.JSON||window.JSON,y=i.extend({channelName:"entities",initialize:function(){this.channel.reply("get",this.get,this),this.channel.reply("set",this.set,this),this.channel.reply("remove",this.remove,this),this.channel.reply("set:filter",this.setFilter,this)},collections:{products:r,orders:o,cart:s,customers:a,coupons:c,gateways:h,settings:l},getMethods:{collection:"getCollection",model:"getModel",filtered:"getFiltered",option:"getOption",settings:"getSettings",localStorage:"getLocalStorage"},setMethods:{localStorage:"setLocalStorage"},get:function(t){t=t||{};var e=this.getMethods[t.type];if(this[e])return this[e](t);d('request needs a type, eg: "collection" or "option"')},set:function(t){t=t||{};var e=this.setMethods[t.type];if(this[e])return this[e](t);d('set needs a type, eg: "localStorage"')},attach:function(t){var e="model"===t.type?"models":"collections",n="_"+t.name;return this[e].hasOwnProperty(t.name)&&(this[n]=new this[e][t.name]([],t)),this[n]},getCollection:function(t){var e="_"+t.name;return t.init?new this.collections[t.name]([],t):this[e]||this.attach(t)},getAllCollections:function(){return g.reduce(this.collections,function(t,e,n){return t[n]=this.getCollection({name:n}),t},{},this)},getModel:function(t){var e="_"+t.name;return t.init?new this.models[t.name]([],t):this[e]||this.attach(t)},getFiltered:function(t){var e="_"+t.name,n="_filtered"+t.name;return this[n]?this[n]:(this[e]||this.attach(t),this[n]=new f(this[e],t),this[n])},getOption:function(t){return this.app.getOption(t.name)},getSettings:function(t){var e=this.app.getOption(t.name);return new u(e)},setFilter:function(t){var e="_filtered"+(t=t||{}).name;this[e]&&this[e].filterBy("search",t.filter)},serialize:function(t){return m.stringify(t)},deserialize:function(t){try{t=m.parse(t)}catch(t){d(t)}return t||void 0},getLocalStorage:function(t){t=t||{};var e=v.getItem("wc_pos_"+t.name),n=this.deserialize(e);return t.key&&n&&n[t.key]?n[t.key]:n},setLocalStorage:function(t){var e=(t=t||{}).data,n=this.getLocalStorage({name:t.name});g.isObject(n)&&g.isObject(e)&&(e=g.extend(n,e)),v.setItem("wc_pos_"+t.name,this.serialize(e))},remove:function(t){if("localStorage"===(t=t||{}).type&&t.name&&t.key){var e=this.getLocalStorage({name:t.name});delete e[t.key],v.setItem("wc_pos_"+t.name,m.stringify(e))}else v.removeItem("wc_pos_"+t.name)},idbCollections:function(){return g.reduce(this.getAllCollections(),function(t,e,n){return e instanceof p.IndexedDBCollection&&(t[n]=e),t},{},this)}});t.exports=y,p.prototype.set("Entities.Service",y)}).call(e,n(33))},function(t,e,n){var i=n(21),r=n(64);t.exports=i.extend({model:r,name:"products"})},function(t,e,n){var i=n(63),r=n(3),o=n(0),s=n(4),a=function(){},c=function(t){throw t};function u(t,e){this.parent=e,this.options=t,t.defaultErrorHandler&&(c=t.defaultErrorHandler)}var l={open:function(){if(this._open)return this._open;var t=new r.Deferred,e=this.options||{};return e.onStoreReady=t.resolve,e.onError=t.reject,this.store=new i(e),this._open=t.promise(),this._open},create:function(t,e){var n=(e=e||{}).success||a,i=e.error||c,r=this._returnAttributes(t),o=this.store.keyPath;return this.put(r).then(function(t){return r[o]=t,n(r),r}).fail(i)},update:function(t,e){var n=(e=e||{}).success||a,i=e.error||c,r=this._returnAttributes(t),o=this;return this.put(r).then(function(t){return o.get(t).done(n).fail(i)}).fail(i)},read:function(t,e){var n=(e=e||{}).success||a,i=e.error||c;return this.get(t.id).done(n).fail(i)},destroy:function(t,e){if(t.isNew())return!1;var n=(e=e||{}).success||a,i=e.error||c;return this.remove(t.id).done(n).fail(i)},put:function(t,e){var n=new r.Deferred;return null!==this.store.keyPath?this.store.put(t,n.resolve,n.reject):this.store.put(t,e,n.resolve,n.reject),n.promise()},get:function(t){var e=new r.Deferred;return this.store.get(t,e.resolve,e.reject),e.promise()},remove:function(t){return o.isObject(t)&&t.hasOwnProperty(this.store.keyPath)&&(t=t[this.store.keyPath]),this._remove(t)},_remove:function(t){var e=new r.Deferred;return this.store.remove(t,e.resolve,e.reject),e.promise()},getAll:function(t){var e=new r.Deferred;return this.store.getAll(function(n){t.success.apply(this,arguments),e.resolve(n)},function(n){t.error.apply(this,arguments),e.reject(n)}),e.promise()},iterate:function(t){t=t||{};var e=new r.Deferred;t.onEnd=e.resolve,t.onError=e.reject;var n=e.notify;return this.store.iterate(n,t),e.promise()},makeKeyRange:function(t){return this.store.makeKeyRange(t)},saveAll:function(){return this.putBatch(this.parent.toJSON())},batch:function(t){var e=new r.Deferred;return this.store.batch(t,e.resolve,e.reject),e.promise()},putBatch:function(t){return o.isArray(t)?this._putBatch(t):this.put(t)},_putBatch:function(t){var e=new r.Deferred;return this.store.putBatch(t,e.resolve,e.reject),e.promise()},removeBatch:function(t){return o.isArray(t)?this._removeBatch(t):this.remove(t)},_removeBatch:function(t){var e=new r.Deferred;return this.store.removeBatch(t,e.resolve,e.reject),e.promise()},clear:function(){var t=new r.Deferred;return this.store.clear(t.resolve,t.reject),t.promise()},query:function(t,e){var n=new r.Deferred;return this.store.query(n.resolve,{index:t,keyRange:e,onError:n.reject}),n.promise()},getByAttribute:function(t){var e=o.chain(t).keys().first().value(),n=this.store.makeKeyRange({only:o.chain(t).values().first().value()});return this.query(e,n)},merge:function(t){if(t=o.isArray(t)?t:[t],!this.parent.mergeKeyPath)return this.putBatch(t);var e=o.map(t,this._merge,this);return r.when.apply(this,e)},_merge:function(t){var e=this.parent.mergeKeyPath,n=this.store.keyPath,i=this,r={};return t[n]?this.update(t):(r[e]=t[e],this.getByAttribute(r).then(function(e){var r=o.first(e);return r?(t[n]=r[n],i.update(t)):i.create(t)}))},_returnAttributes:function(t){return t instanceof s.Model?t.toJSON():t}};o.extend(u.prototype,l),t.exports=u},function(t,e){t.exports=IDBStore},function(t,e,n){var i=n(22),r=n(0),o=n(66),s=n(36);t.exports=i.extend({name:"product",fields:["name"],schema:{price:"number",regular_price:"number",sale_price:"number",stock_quantity:"number"},initialize:function(){this.on({"change:updated_at":this.onUpdate})},onUpdate:function(){"variable"===this.get("type")&&this.getVariations().superset().set(this.get("variations"))},productAttributes:function(){return r.chain(this.get("attributes")).where({variation:!1}).where({visible:!0}).value()},productVariations:function(){return r.where(this.get("attributes"),{variation:!0})},matchMaker:function(t,e,n){var i=r.all(t,function(t){return"prefix"===t.type&&"barcode"===t.prefix&&t.query?this.barcodeMatch(t.query):"prefix"===t.type&&"cat"===t.prefix?(t.prefix="categories",e.prefix(t,this)):void 0},this);return i||n(t,this)},barcodeMatch:function(t){var e=this.get("type"),n=this.get("barcode").toLowerCase(),i=t.toString().toLowerCase();return n===i?("variable"!==e&&this.trigger("match:barcode",this),!0):"variable"!==e?this.partialBarcodeMatch(n,i):this.variableBarcodeMatch(n,i)},partialBarcodeMatch:function(t,e){return-1!==t.indexOf(e)},variableBarcodeMatch:function(t,e){var n;return this.getVariations().superset().each(function(t){var i=t.get("barcode").toLowerCase();i!==e?-1===i.indexOf(e)||(n="partial"):n=t}),n?("partial"!==n&&this.trigger("match:barcode",n,this),!0):this.partialBarcodeMatch(t,e)},getVariationOptions:function(){if(this._variationOptions)return this._variationOptions;var t=this.get("variations"),e=r.pluck(t,"attributes").reduce(function(t,e){return r.each(e,function(e){if(t[e.name])return t[e.name].push(e.option);t[e.name]=[e.option]}),t},{});return this._variationOptions=r.map(e,function(t,e){return{name:e,options:r.uniq(t)}}),this._variationOptions},getVariations:function(){if("variable"!==this.get("type"))return!1;if(!this._variations){var t=new o(this.get("variations"),{parent:this,parentAttrs:this.attributes});this._variations=new s(t)}return this._variations}})},function(t,e,n){var i=n(0);function r(t){var e={},n=c.keyPathSeparator;for(var o in t){var s=t[o];if(!s||s.constructor!==Object&&s.constructor!==Array||i.isEmpty(s))e[o]=s;else{var a=r(s);for(var u in a){var l=a[u];e[o+n+u]=l}}}return e}function o(t,e,n){for(var r=c.keyPathSeparator,o=e?e.split(r):[],s=t,a=0,u=o.length;a<u;a++){if(n&&!i.has(s,o[a]))return!1;if(null==(s=s[o[a]])&&a<u-1&&(s={}),void 0===s)return!!n||s}return!!n||s}function s(t,e,n,r){r=r||{};for(var o=c.keyPathSeparator,s=e?e.split(o):[],a=t,u=0,l=s.length;u<l&&void 0!==a;u++){var h=s[u];if(u===l-1)r.unset?delete a[h]:a[h]=n;else{if(void 0===a[h]||!i.isObject(a[h])){if(r.unset)return void delete a[h];var f=s[u+1];a[h]=/^\d+$/.test(f)?[]:{}}a=a[h]}}}function a(t,e){s(t,e,null,{unset:!0})}var c={constructor:function(t,e){var n=t||{};this.cid=i.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(n=this.parse(n,e)||{}),n=i.merge({},i.result(this,"defaults"),n),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(t){return i.merge({},this.attributes)},get:function(t){return o(this.attributes,t)},set:function(t,e,n){var u,l,h,f,d,p,g,v;if(null==t)return this;if("object"==typeof t?(l=t,n=e||{}):(l={})[t]=e,n||(n={}),!this._validate(l,n))return!1;for(u in h=n.unset,d=n.silent,f=[],p=this._changing,this._changing=!0,p||(this._previousAttributes=i.merge({},this.attributes),this.changed={}),v=this.attributes,g=this._previousAttributes,this.idAttribute in l&&(this.id=l[this.idAttribute]),l=r(l))e=l[u],i.isEqual(o(v,u),e)||f.push(u),i.isEqual(o(g,u),e)?a(this.changed,u):s(this.changed,u,e),h?a(v,u):s(v,u,e);if(!d){f.length&&(this._pending=!0);for(var m=c.keyPathSeparator,y={},b=0,_=f.length;b<_;b++){t=f[b];y.hasOwnProperty(t)&&y[t]||(y[t]=!0,this.trigger("change:"+t,this,o(v,t),n));for(var w=t.split(m),x=w.length-1;x>0;x--){var C=w.slice(0,x).join(m),F=C+m+"*";y.hasOwnProperty(F)&&y[F]||(y[F]=!0,this.trigger("change:"+F,this,o(v,C),n)),y.hasOwnProperty(C)&&y[C]||(y[C]=!0,this.trigger("change:"+C,this,o(v,C),n))}}}if(p)return this;if(!d)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},clear:function(t){var e={},n=r(this.attributes);for(var o in n)e[o]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):void 0!==o(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&r(this.changed);var e=this._changing?this._previousAttributes:this.attributes;t=r(t),e=r(e);var n,o=!1;for(var s in t)i.isEqual(e[s],n=t[s])||((o||(o={}))[s]=n);return o},previous:function(t){return null!=t&&this._previousAttributes?o(this._previousAttributes,t):null},previousAttributes:function(){return i.merge({},this._previousAttributes)},keyPathSeparator:"."};t.exports=c},function(t,e,n){var i=n(14),r=n(67),o=n(2),s=n(0);t.exports=i.extend({model:r,url:function(){return o.request("entities","get",{type:"option",name:"wc_api"})+"products"},initialize:function(){this._isNew=!1},compact:function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];(0===o||o)&&(r[++i]=o)}return r},range:function(t){var e=this.compact(this.pluck(t)),n=0,i=0;return s.isEmpty(e)||(n=s(e).min(),i=s(e).max()),s.uniq([n,i])}})},function(t,e,n){var i=n(23),r=n(0),o=n(2);t.exports=i.extend({name:"product",defaults:{type:"variation"},schema:{price:"number",regular_price:"number",sale_price:"number",stock_quantity:"number"},url:function(){var t=o.request("entities","get",{type:"option",name:"wc_api"});if(-1!==t.indexOf("wp-json")){var e=this.get("id"),n=this.parent.get("id");if(e&&n)return t+"products/"+n+"/variations/"+e}return t+"products/"+this.id},constructor:function(t,e){e=r.extend({parse:!0},e),i.call(this,t,e)},initialize:function(t,e){e=e||{},this.parent=e.parent,this.set({name:e.parent.get("name")})},save:function(t,e){var n=this;return i.prototype.save.call(this,t,e).then(function(){n.parent.set({variations:n.collection.toJSON()}),n.parent.merge()})},getVariationAttributes:function(){var t=[],e=this.get("attributes");return r.each(this.parent.productVariations(),function(n){var i=r.findWhere(e,{id:n.id});i&&0!==i.id||(i=r.findWhere(e,{name:n.name})),i?t.push(r.merge(i,n)):t.push(n)}),r.sortBy(t,"position")}})},function(t,e,n){var i=n(0),r=n(4),o=n(19),s=n(69);function a(){this._filterResultCache={}}function c(t){for(var e in this._filterResultCache)this._filterResultCache.hasOwnProperty(e)&&delete this._filterResultCache[e][t]}function u(t){this._filterResultCache[t.cid]||(this._filterResultCache[t.cid]={});var e=this._filterResultCache[t.cid];for(var n in this._filters)if(this._filters.hasOwnProperty(n)&&(e.hasOwnProperty(n)||(e[n]=this._filters[n].fn(t)),!e[n]))return!1;return!0}function l(){var t=[];this._superset&&(t=this._superset.filter(i.bind(u,this))),this._collection.reset(t),this.length=this._collection.length}function h(t){if(this._filterResultCache[t.cid]={},u.call(this,t)){if(!this._collection.get(t.cid)){for(var e=null,n=this.superset().indexOf(t)-1;n>=0;n-=1)if(this.contains(this.superset().at(n))){e=this.indexOf(this.superset().at(n))+1;break}e=e||0,this._collection.add(t,{at:e})}}else this._collection.get(t.cid)&&this._collection.remove(t);this.length=this._collection.length}function f(t,e,n){"change:"===t.slice(0,7)&&function(t){this._filterResultCache[t.cid]={},u.call(this,t)||this._collection.get(t.cid)&&this._collection.remove(t)}.call(this,arguments[1])}function d(t){this.contains(t)&&this._collection.remove(t),this.length=this._collection.length}function p(t){this._superset=t,this._collection=new r.Collection(t.toArray()),o(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset sort",l),this.listenTo(this._superset,"add change",h),this.listenTo(this._superset,"remove",d),this.listenTo(this._superset,"all",f)}var g={defaultFilterName:"__default",filterBy:function(t,e){return e||(e=t,t=this.defaultFilterName),function(t,e){this._filters[t]&&c.call(this,t),this._filters[t]=e,this.trigger("filtered:add",t)}.call(this,t,s(e)),l.call(this),this},removeFilter:function(t){return t||(t=this.defaultFilterName),function(t){delete this._filters[t],delete this._query,delete this._tokens,c.call(this,t),this.trigger("filtered:remove",t)}.call(this,t),l.call(this),this},resetFilters:function(){return this._filters={},a.call(this),this.trigger("filtered:reset"),l.call(this),this},superset:function(){return this._superset},refilter:function(t){return"object"==typeof t&&t.cid?h.call(this,t):(a.call(this),l.call(this)),this},getFilters:function(){return i.keys(this._filters)},hasFilter:function(t){return i.contains(this.getFilters(),t)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};i.extend(p.prototype,g,r.Events),t.exports=p},function(t,e,n){var i=n(0);function r(t,e){return i.isArray(e)||(e=null),{fn:t,keys:e}}t.exports=function(t,e){return i.isFunction(t)?r(t,e):i.isObject(t)?(n=t,o=i.keys(n),s=i.map(o,function(t){var e,r,o,s,a=n[t];return i.isFunction(a)?(e=t,r=a,function(t){return r(t.get(e))}):(o=t,s=a,function(t){return t.get(o)===s})}),r(function(t){for(var e=0;e<s.length;e++)if(!s[e](t))return!1;return!0},o)):void 0;var n,o,s}},function(t,e,n){var i=n(0),r=n(4),o=n(19),s=n(71);function a(t){return this._comparator?s(this._collection.models,t,(e=this._comparator,i.isFunction(e)?e:function(t){return t.get(e)}),this._reverse):this._superset.indexOf(t);var e}function c(t){var e=a.call(this,t);this._collection.add(t,{at:e})}function u(t){this.contains(t)&&this._collection.remove(t)}function l(t){this.contains(t)&&this._collection.indexOf(t)!==a.call(this,t)&&(this._collection.remove(t),c.call(this,t))}function h(){var t;this._comparator?(t=i.isString(this._comparator)||1===this._comparator.length?this._superset.sortBy(this._comparator):this._superset.models.sort(this._comparator),this._collection.reset(this._reverse?t.reverse():t)):this._collection.reset(this._superset.toArray())}function f(t){this._superset=t,this._reverse=!1,this._comparator=null,this._collection=new r.Collection(t.toArray()),o(this._collection,this),this.listenTo(this._superset,"add",c),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",l),this.listenTo(this._superset,"reset",h)}var d={setSort:function(t,e){return this._reverse="desc"===e,this._comparator=t,h.call(this),t?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,h.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};i.extend(f.prototype,d,r.Events),t.exports=f},function(t,e,n){var i=n(0);t.exports=function(t,e,n,r){var o,s,a,c;n=null===n?i.identity:(s=r,2===(o=n).length?o:(a=o,c=s,function(t,e){var n=a(t),i=a(e);return n===i?0:c?n<i?1:-1:n<i?-1:1}));for(var u=0,l=t.length;u<l;){var h=u+l>>>1;n(t[h],e)<0?u=h+1:l=h}return u}},function(t,e,n){var i=n(0),r=n(4),o=n(19);function s(){if(this._infinite)var t=0,e=this._collection.length;else e=(t=this.getPage()*this.getPerPage())+this.getPerPage();return[t,e]}function a(){var t=s.call(this);return this._collection.reset(this.superset().slice(t[0],t[1]))}function c(){var t=this.superset().length,e=this.getPerPage(),n=t%e==0?t/e:Math.floor(t/e)+1,i=this._totalPages!==n;if(this._totalPages=n,i&&this.trigger("paginated:change:numPages",{numPages:n}),this.getPage()>=n)return this.setPage(n-1),!0}function u(){this._infinite=!1,c.call(this)||a.call(this)}function l(t,e){for(var n=i.max([t.length,e.length]),r=0,o=0;r<n;r+=1,o+=1)if(t[r]!==e[o])if(e[r-1]===t[r])o-=1;else{if(e[r+1]!==t[r])return t[r];o+=1}}function h(t,e,n){if(!c.call(this)){var i,r=s.call(this),o=r[0],a=r[1],u=l(this.superset().slice(o,a),this._collection.toArray());this._infinite&&n.add||(i=l(this._collection.toArray(),this.superset().slice(o,a))),i&&this._collection.remove(i),u&&this._collection.add(u,{at:this.superset().indexOf(u)-o})}}function f(t,e){this._superset=t,this._collection=new r.Collection(t.toArray()),this._page=0,this.setPerPage(e&&e.perPage?e.perPage:null),o(this._collection,this),this.listenTo(this._superset,"add remove",h),this.listenTo(this._superset,"reset sort",u)}var d={removePagination:function(){return this._infinite=!1,this.setPerPage(null),this},setPerPage:function(t){return this._perPage=t,u.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:t,numPages:this.getNumPages()}),this},setPage:function(t){this._infinite=!1;var e=this.getNumPages()-1;return t=(t=(t=t>0?t:0)<e?t:e)<0?0:t,this._page=t,a.call(this),this.trigger("paginated:change:page",{page:t}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._infinite?function(){var t=this.getPerPage(),e=this.superset().length-this._collection.length;return(e%t==0?e/t:Math.floor(e/t)+1)+1}.call(this):this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(t){return this.setPage(this.getPage()+t),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this._infinite=!1,this.trigger("paginated:destroy")},appendNextPage:function(){return this._infinite=!0,function(){var t=this._collection.length+this.getPerPage();return this._collection.add(this.superset().slice(0,t))}.call(this),this.trigger("paginated:change:page",{page:0}),this}};i.extend(f.prototype,d,r.Events),t.exports=f},function(t,e,n){var i=n(0);t.exports=function(t,e){i.each(e,function(e){this.listenTo(t,e,function(){var t=i.toArray(arguments);t.unshift(e),this.trigger.apply(this,t)})},this)}},function(t,e,n){var i=n(0),r=n(75);t.exports={query:function(t,e){return i.isUndefined(e)&&(e=t,t="search"),this._query=e,""===e?this.removeFilter(t):this.filterBy(t,i.bind(r,this,e))},getQuery:function(){return this._query},getTokens:function(){return this._tokens},getRemoteFilter:function(){if(this._tokens){var t={not_in:this.pluck("id").join(",")};return i.each(this._tokens,function(e){"string"===e.type&&(t.q=e.query),"prefix"===e.type&&(t[e.prefix]=e.query)}),t}}}},function(t,e,n){var i=n(0),r=new(n(76));var o={string:function(t,e){if(t=t||{},!i.isString(t.query))return!1;var n=i.chain(e.fields||["title"]).map(function(t){return e.get(t)}).compact().value();return i.any(n,function(e){return this._partialString(e,t.query.toLowerCase())},this)},prefix:function(t,e){if(t=t||{},!i.isString(t.query))return!1;var n,r=e.get(t.prefix),o=(n=r,{}.toString.call(n).match(/\s([a-z|A-Z]+)/)[1].toLowerCase());return this.hasOwnProperty("_"+o)?this["_"+o](r,t.query.toLowerCase()):void 0},or:function(t,e){return i.any(t.queries,function(t){return this[t.type](t,e)},this)},_string:function(t,e){return t.toLowerCase()===e},_partialString:function(t,e){return-1!==t.toLowerCase().indexOf(e)},_number:function(t,e){return t.toString()===e},_partialNumber:function(t,e){return-1!==t.toString().indexOf(e)},_boolean:function(t,e){return"true"===e?!0===t:"false"===e&&!1===t},_array:function(t,e){return i.any(t,function(t){return i.isString(t)?t.toLowerCase()===e:i.isObject(t)&&t.hasOwnProperty("slug")?t.slug.toLowerCase()===e:void 0})}};function s(t,e){return i.all(t,function(t){return o[t.type](t,e)})}t.exports=function(t,e){var n=i.isArray(t)?t:r.parse(t);return this._tokens=n,e.matchMaker?e.matchMaker(n,o,s):s(n,e)}},function(t,e,n){var i=n(0);function r(t){this.options=t||{}}var o={QUOTES:/['"`]/,SPACES:/[ \t\r\n]/,FLAGS:/[~\+#!\*\/]/,SCREEN:/[\\]/,GROUP_OPEN:/\(/,GROUP_CLOSE:/\)/,OR:/\|/,PREFIX:/:/,RANGE:/-/,OR_OPEN:/\[/,OR_CLOSE:/]/};function s(t){var e,n,i,r=t.part||{};t.hasarg&&(["range","prange"].indexOf(r.type)>=0?r.to=t.buffer:t.buffer&&t.buffer.length&&(r.query=t.buffer),r.type||(r.type=r.prefix?"prefix":"string"),t.parts.push(r),t.or_at_next_arg&&t.or_at_next_arg+1===t.parts.length&&(e=t.parts,n=e.pop(),i=e.pop(),e.push({type:"or",queries:[i,n]}),t.or_at_next_arg=0),t.part={},t.buffer="",t.hasarg=!1)}var a={screen:function(t){t.screen=!0},or_open:function(t){t.hasarg?t.buffer+=t.character:(t.part.type="or",t.part.queries=this.parse(this._input.join(""),!0),t.part.queries&&t.part.queries.length&&(t.hasarg=!0,s.call(this,t)))},or_close:function(t){t.close=!0},group_open:function(t){t.hasarg?t.buffer+=t.character:(t.part.type="and",t.part.queries=this.parse(this._input.join(""),!0),t.part.queries&&t.part.queries.length&&(t.hasarg=!0,s.call(this,t)))},group_close:function(t){t.open?(t.close=!0,t.open=void 0):t.buffer+=t.character},or:function(t){t.or_at_next_arg=t.parts.length,t.hasarg&&(t.or_at_next_arg+=1,s.call(this,t))},prefix:function(t){t.part.prefix=t.buffer,t.part.type="prefix",t.buffer="",t.hasarg=!0},range:function(t){t.part.type&&"prefix"===t.part.type?t.part.type="prange":t.part.type="range",t.part.from=t.buffer,t.buffer="",t.hasarg=!0},spaces:function(t){s.call(this,t)},quotes:function(t){t.buffer.length?(t.buffer+=t.character,t.hasarg=!0):function t(e,n){0!==this._input.length&&(e.character=this._input.shift(),e.character===n?s.call(this,e):(e.buffer+=e.character,e.hasarg=!0,t.call(this,e,n)))}.call(this,t,t.character)},flags:function(t){t.buffer.length?t.buffer+=t.character:(t.part.flags||(t.part.flags=[]),t.part.flags.push(t.character))}};function c(t){t.character=this._input.shift();var e=function(t){var e;return i.any(["SCREEN","OR_OPEN","OR_CLOSE","GROUP_OPEN","GROUP_CLOSE","OR","PREFIX","SPACES","QUOTES","FLAGS"],function(n){return o[n].test(t)?(e=n,!0):(e=void 0,!1)}),e}.call(this,t.character);e&&!t.screen?a[e.toLowerCase()].call(this,t):(t.buffer+=t.character,t.hasarg=!0,t.screen=!1),this._input.length>0&&!t.close?c.call(this,t):t.close=void 0}var u={parse:function(t,e){var n={parts:[],part:{},open:e,buffer:"",hasarg:!1};return t&&t.length&&"string"==typeof t?(this._input=t.split(""),c.call(this,n),s.call(this,n),n.parts):n.parts}};i.extend(r.prototype,u),t.exports=r},function(t,e,n){var i=n(21),r=n(78),o=n(3),s=n(0),a=n(4);t.exports=i.extend({model:r,name:"orders",_syncDelayed:!1,setActiveOrder:function(t){var e=this.get(t);return e||"new"===t||(e=s.first(this.openOrders())),this.active=e,e},getActiveOrder:function(){var t=this,e=new o.Deferred;return this.active?e.resolve(this.active):this.create().then(function(n){n.cart.order_id=n.id,t.active=n,"cart/new"===a.history.getHash()&&a.history.navigate("cart/"+n.id),e.resolve(n)}),e.promise()},addToCart:function(t){this.getActiveOrder().then(function(e){e.cart.addToCart(t)})},create:function(){var t=new o.Deferred;return i.prototype.create.call(this,{local_id:Date.now()},{wait:!0,success:t.resolve,error:t.reject}),t.promise()},openOrders:function(){return this.filter(function(t){return t.isEditable()})}})},function(t,e,n){var i=n(22),r=n(2),o=n(13),s=n(8)("order"),a=n(1),c=n(3),u=i.extend({name:"order",fields:["customer.first_name","customer.last_name","customer.email"],defaults:{note:"",order_discount:0},initialize:function(t){if(!(t=t||{}).customer&&!t.billing){var e=this.getEntities("customers"),n=e.default||e.guest||{};this.set({customer_id:n.id,customer:n})}this.tax=this.getEntities("tax"),this.tax_rates=this.getEntities("tax_rates"),this.isEditable()&&(this.attachCart(),this.attachGateways()),this.on({"change:order_discount":this.calcTotals,"change:status":this.isEditable})},getEntities:function(t){return r.request("entities","get",{type:"option",name:t})||{}},isEditable:function(){return void 0===this.get("status")||this.isDelayed()},destroy:function(t){var e=this;return this.cart.db.removeBatch(this.cart.pluck("local_id")).always(function(){return i.prototype.destroy.call(e,t)})},attachCart:function(){var t=r.request("entities","get",{init:!0,type:"collection",name:"cart"});t.order_id=this.id,this.listenTo(t,{"add change":this.calcTotals,remove:this.itemRemoved}),t.db&&t.db.open().then(function(){t.fetchCartItems()}),this.cart=t},clearCart:function(){this.cart&&this.cart.db.removeBatch(this.cart.pluck("local_id"))},attachGateways:function(){this.gateways=r.request("entities","get",{init:!0,type:"collection",name:"gateways"});var t=r.request("entities","get",{type:"option",name:"gateways"});this.gateways.add(t)},itemRemoved:function(){return this.cart.length>0?this.calcTotals():this.destroy()},calcTotals:function(){var t=0,e=0,n=0,i=0,r=this.cart.sum("subtotal"),a=this.cart.sum("total"),c=r-a,u=this.get("order_discount");"yes"===this.tax.calc_taxes&&(t=this.cart.sum("total_tax"),e=this.cart.sum("subtotal_tax"),n=this.cart.sum("total_tax","shipping"),i=e-t),a+=t,a-=u,this.unset("tax_lines",{silent:!0});var l={total:o.round(a,4),subtotal:o.round(r,4),total_tax:o.round(t,4),subtotal_tax:o.round(e,4),shipping_tax:o.round(n,4),cart_discount:o.round(c,4),cart_discount_tax:o.round(i,4),tax_lines:this.cart.itemizedTax()};this.save(l),s("update totals",l)},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=parseFloat(this.get(t[n]));return e},process:function(){var t=this;return c.when(this.processCart()).then(function(){return t.processGateway()}).then(function(){var e=t.get("id")?"update":"create";return t.remoteSync(e)}).then(function(t){var e=t[0];"failed"===e.get("status")&&e.save({status:"UPDATE_FAILED"})})},processCart:function(){var t={product:[],shipping:[],fee:[]};this.cart.each(function(e){var n=e.get("type");"shipping"!==n&&"fee"!==n&&(n="product"),t[n].push(e.toJSON())}),this.set({line_items:t.product,shipping_lines:t.shipping,fee_lines:t.fee,tax_lines:this.cart.itemizedTax()})},processGateway:function(){var t=this.gateways.findWhere({active:!0}).toJSON();this.set({payment_details:t})}});t.exports=u,a.prototype.set("Entities.Order.Model",u)},function(t,e,n){var i=n(34),r=n(80),o=n(0),s=n(4);t.exports=i.extend({model:r,name:"cart",indexes:[{name:"local_id",keyPath:"local_id",unique:!0},{name:"order",keyPath:"order",unique:!1},{name:"type",keyPath:"type",unique:!1}],productAttributes:["order","name","local_id","product_id","type","price","regular_price","sale_price","taxable","tax_status","tax_class","attributes","meta","method_title","method_id"],comparator:function(t){var e=t.get("type");return"fee"===e?2:"shipping"===e?1:0},fetchCartItems:function(){if(this.order_id){var t=this.add.bind(this),e=this.db.store.makeKeyRange({only:this.order_id});this.db.store.query(t,{index:"order",keyRange:e})}},sum:function(t,e){var n=this.toJSON();return e&&(n=o.where(n,{type:e})),o.pluck(n,t).reduce(function(t,e){return t+e},0)},addToCart:function(t){var e,n=(t=t||{}).model||t;n instanceof s.Model&&(n=n.toJSON()),n.id&&(e=this.findWhere({product_id:n.id}),n.product_id=n.id,delete n.id),e?e.quantity("increase"):e=this._addToCart(n),e.trigger("pulse")},_addToCart:function(t){return t.order=this.order_id,"variation"===t.type&&(t.meta=o.map(t.attributes,function(t,e){return{key:++e,label:t.name,value:t.option}})),this.add(o.pick(t,this.productAttributes))},itemizedTax:function(){var t=o.clone(this.toJSON(),!0),e=o.map(t,function(t){if(t.tax)return o.each(t.tax,function(e){e.shipping="shipping"===t.type?e.total:0}),t.tax}),n=this.sumTaxes(e),i=[];return o.each(n,function(t,e){t.rate_id=e.toString(),i.push(t)}),i},sumTaxes:function(t){return o.reduce(t,function(t,e){return o.merge(t,e,function(t,e){return t&&(e.total+=t.total,e.subtotal+=t.subtotal,e.shipping+=t.shipping),e})},{})}})},function(t,e,n){var i=n(16),r=n(8)("cartItem"),o=n(13),s=n(0),a=n(2);t.exports=i.extend({idAttribute:"local_id",defaults:{subtotal:0,subtotal_tax:0,total_tax:0,total:0,item_tax:0,quantity:1,taxable:!0,tax_class:""},initialize:function(){if(this.tax=a.request("entities","get",{type:"option",name:"tax"})||{},this.tax_rates=a.request("entities","get",{type:"option",name:"tax_rates"})||{},this.on("change:quantity change:item_price change:regular_price change:taxable change:tax_class",this.updateLineTotals),void 0===this.get("item_price")){var t=parseFloat(this.get("price"));this.set({item_price:s.isNaN(t)?0:t})}},updateLineTotals:function(){var t,e,n,i=this.get("quantity"),a=this.get("item_price"),c=this.get("type"),u=parseFloat(this.get("regular_price")),l=this.get("tax_class");this.tax_rates[l]&&(n=s.cloneDeep(this.tax_rates[l])),"shipping"!==c&&"fee"!==c||(u=a),t=this.calcTax({price:a,quantity:i,rates:n}),e=this.calcTax({price:u,quantity:i,rates:n,subtotal:!0}),"yes"===this.tax.prices_include_tax&&(u-=e,a-=t);var h={item_subtotal:o.round(u,4),item_subtotal_tax:o.round(e,4),item_tax:o.round(t,4),subtotal:o.round(u*i,4),subtotal_tax:o.round(e*i,4),total_tax:o.round(t*i,4),total:o.round(a*i,4)};this.save(h),r("update totals",h)},calcTax:function(t){var e=0;return"yes"===this.tax.calc_taxes&&this.get("taxable")&&t.rates?e="yes"===this.tax.prices_include_tax?this.calcInclusiveTax(t):this.calcExclusiveTax(t):this.set("tax",void 0),e},calcInclusiveTax:function(t){var e,n=0,i=0,r=0,a=0,c=t.price,u=t.rates,l=t.quantity;s.each(u,function(t,e){"shipping"!==this.get("type")||"no"!==t.shipping?"yes"===t.compound?i+=parseFloat(t.rate):n+=parseFloat(t.rate):delete u[e]},this);var h=1+n/100,f=1+i/100;return e=c/f,s.each(u,function(n){var i=parseFloat(n.rate)/100,s=0;"yes"===n.compound?(s=c,i/=f):(s=e,i/=h),r=c-(c-i*s),n[t.subtotal?"subtotal":"total"]=o.round(r*l,4),a+=r},this),s.isEmpty(u)||this.set("tax",u),a},calcExclusiveTax:function(t){var e=[],n=0,i=0,r=0,a=t.price,c=t.rates,u=t.quantity;return s.each(c,function(t,n){i=0,"shipping"!==this.get("type")||"no"!==t.shipping?("yes"!==t.compound&&(i=a*(parseFloat(t.rate)/100)),e[n]=i):delete c[n]},this),e.length>0&&(n=e.reduce(function(t,e){return t+e})),s.each(c,function(i,s){if("yes"===i.compound){var c=a+n;e[s]=c*(parseFloat(i.rate)/100)}i[t.subtotal?"subtotal":"total"]=o.round(e[s]*u,4),r+=e[s]},this),s.isEmpty(c)||this.set("tax",c),r},quantity:function(t){var e=this.get("quantity");return this.set("quantity","increase"===t?++e:--e),this},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=this.get(t[n]);return o.round(e,4)},toJSON:function(t){var e=i.prototype.toJSON.apply(this,t);if(e.meta){var n=[];s.each(e.meta,function(t){n.push({key:t.label,value:t.value})}),e.meta_data=n}return e}})},function(t,e,n){var i=n(21),r=n(82),o=n(2);t.exports=i.extend({model:r,name:"customers",indexes:[{name:"local_id",keyPath:"local_id",unique:!0},{name:"id",keyPath:"id",unique:!0},{name:"status",keyPath:"status",unique:!1},{name:"email",keyPath:"email",unique:!0},{name:"username",keyPath:"username",unique:!0}],initialize:function(){var t=o.request("entities","get",{type:"option",name:"customers"});t&&(this._guest=t.guest,this._default=t.default||t.guest)},getGuestCustomer:function(){return this._guest},getDefaultCustomer:function(){return this._default}})},function(t,e,n){var i=n(22),r=n(1),o=i.extend({name:"customer",fields:["email","username","first_name","last_name"]});t.exports=o,r.prototype.set("Entities.Customers.Model",o)},function(t,e,n){var i=n(14),r=n(84);t.exports=i.extend({model:r})},function(t,e,n){var i=n(16);t.exports=i.extend({})},function(t,e,n){var i=n(14),r=n(37);t.exports=i.extend({model:r})},function(t,e,n){var i=n(14),r=n(87);t.exports=i.extend({model:r,initialize:function(){this._isNew=!1,this.on("change:active",this.onChangeActive)},onChangeActive:function(t,e){e&&this.each(function(e){t.id!==e.id&&e.set({active:!1})})}})},function(t,e,n){var i=n(16);t.exports=i.extend({idAttribute:"method_id",defaults:{active:!1}})},,,function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=void 0;void 0===o&&(o={modules:[]});var s=null;function a(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var r=t.ownerDocument.defaultView.frameElement;if(r){var o=a(r);n.top+=o.top,n.bottom+=o.top,n.left+=o.left,n.right+=o.left}}return n}function c(t){var e=(getComputedStyle(t)||{}).position,n=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(t){}if(null==r)return n.push(i),n;var o=r,s=o.overflow,a=o.overflowX,c=o.overflowY;/(auto|scroll|overlay)/.test(s+c+a)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(r.position)>=0)&&n.push(i)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}var u,l=(u=0,function(){return++u}),h={},f=function(){var t=s;t&&document.body.contains(t)||((t=document.createElement("div")).setAttribute("data-tether-id",l()),y(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),s=t);var e=t.getAttribute("data-tether-id");return void 0===h[e]&&(h[e]=a(t),O(function(){delete h[e]})),h[e]};function d(){s&&document.body.removeChild(s),s=null}function p(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=a(t),r=f();return i.top-=r.top,i.left-=r.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function g(t){return t.offsetParent||document.documentElement}var v=null;function m(){if(v)return v;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");y(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return v={width:r,height:r}}function y(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function b(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=x(t).replace(n," ");C(t,i)}}function _(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{b(t,e);var n=x(t)+" "+e;C(t,n)}}function w(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=x(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function x(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function C(t,e){t.setAttribute("class",e)}function F(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&w(t,n)&&b(t,n)}),e.forEach(function(e){w(t,e)||_(t,e)})}var S=[],O=function(t){S.push(t)},E=function(){for(var t=void 0;t=S.pop();)t()},k=function(){function t(){r(this,t)}return i(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],s=o.handler,a=o.ctx,c=o.once,u=a;void 0===u&&(u=this),s.apply(u,i),c?this.bindings[t].splice(e,1):++e}}}}]),t}();o.Utils={getActualBoundingClientRect:a,getScrollParents:c,getBounds:p,getOffsetParent:g,extend:y,addClass:_,removeClass:b,hasClass:w,updateClasses:F,defer:O,flush:E,uniqueId:l,Evented:k,getScrollBarSize:m,removeUtilElements:d};var T=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=(i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=s,i=!0,a=u=void 0}});function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}if(void 0===o)throw new Error("You must include the utils.js file before tether.js");var c=(Y=o.Utils).getScrollParents,g=(p=Y.getBounds,Y.getOffsetParent),_=(y=Y.extend,Y.addClass),b=Y.removeClass,m=(F=Y.updateClasses,O=Y.defer,E=Y.flush,Y.getScrollBarSize),d=Y.removeUtilElements;function P(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}var A,N,j,M,I=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),R=[],q=function(){R.forEach(function(t){t.position(!1)}),E()};function B(){return performance&&performance.now?performance.now():+new Date}A=null,N=null,j=null,M=function t(){if(void 0!==N&&N>16)return N=Math.min(N-16,250),void(j=setTimeout(t,250));void 0!==A&&B()-A<10||(null!=j&&(clearTimeout(j),j=null),A=B(),q(),N=B()-A)},"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,M)});var L={center:"center",left:"right",right:"left"},z={middle:"middle",top:"bottom",bottom:"top"},H={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},$=function(t){var e=t.left,n=t.top;return void 0!==H[t.left]&&(e=H[t.left]),void 0!==H[t.top]&&(n=H[t.top]),{left:e,top:n}};function V(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function W(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}var U=function(t){var e=t.split(" "),n=T(e,2);return{top:n[0],left:n[1]}},G=U,X=function(t){function e(t){var n=this;r(this,e),D(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),R.push(this),this.history=[],this.setOptions(t,!1),o.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(n)}),this.position()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,k),i(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=y({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},t);var i=this.options,r=i.element,o=i.target,s=i.targetModifier;if(this.element=r,this.target=o,this.targetModifier=s,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),_(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&_(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=G(this.options.targetAttachment),this.attachment=G(this.options.attachment),this.offset=U(this.options.offset),this.targetOffset=U(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=c(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return p(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((o={height:(t=p(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(o.height,t.height-(pageYOffset-t.top)),o.height=Math.min(o.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,t.width-(pageXOffset-t.left)),o.width=Math.min(o.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=p(e);var n=getComputedStyle(e),i=0;(e.scrollWidth>e.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(i=15);var r=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,o={width:15,height:.975*r*(r/e.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},s=0;r<408&&this.target===document.body&&(s=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24));var a=this.target.scrollTop/(e.scrollHeight-r);return o.top=a*(r-o.height-s)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&_(this.target,this.getClass("enabled")),_(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;b(this.target,this.getClass("enabled")),b(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),R.forEach(function(e,n){e===t&&R.splice(n,1)}),0===R.length&&d()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left);var r=[];["left","top","bottom","right","middle","center"].forEach(function(t){r.push(n.getClass("element-attached")+"-"+t),r.push(n.getClass("target-attached")+"-"+t)}),O(function(){void 0!==n._addAttachClasses&&(F(n.element,n._addAttachClasses,r),!1!==n.options.addTargetClasses&&F(n.target,n._addAttachClasses,r),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n,i,r,s,a=(n=this.targetAttachment,i=this.attachment,r=n.left,s=n.top,"auto"===r&&(r=L[i.left]),"auto"===s&&(s=z[i.top]),{left:r,top:s});this.updateAttachClasses(this.attachment,a);var c=this.cache("element-bounds",function(){return p(t.element)}),u=c.width,l=c.height;if(0===u&&0===l&&void 0!==this.lastSize){var h=this.lastSize;u=h.width,l=h.height}else this.lastSize={width:u,height:l};var f=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=f,v=W($(this.attachment),{width:u,height:l}),y=W($(a),d),b=W(this.offset,{width:u,height:l}),_=W(this.targetOffset,d);v=V(v,b),y=V(y,_);for(var w=f.left+y.left-v.left,x=f.top+y.top-v.top,C=0;C<o.modules.length;++C){var F=o.modules[C].position.call(this,{left:w,top:x,targetAttachment:a,targetPos:f,elementPos:c,offset:v,targetOffset:y,manualOffset:b,manualTargetOffset:_,scrollbarSize:T,attachment:this.attachment});if(!1===F)return!1;void 0!==F&&"object"==typeof F&&(x=F.top,w=F.left)}var S={page:{top:x,left:w},viewport:{top:x-pageYOffset,bottom:pageYOffset-x-l+innerHeight,left:w-pageXOffset,right:pageXOffset-w-u+innerWidth}},O=this.target.ownerDocument,k=O.defaultView,T=void 0;return k.innerHeight>O.documentElement.clientHeight&&(T=this.cache("scrollbar-size",m),S.viewport.bottom-=T.height),k.innerWidth>O.documentElement.clientWidth&&(T=this.cache("scrollbar-size",m),S.viewport.right-=T.width),-1!==["","static"].indexOf(O.body.style.position)&&-1!==["","static"].indexOf(O.body.parentElement.style.position)||(S.page.bottom=O.body.scrollHeight-x-l,S.page.right=O.body.scrollWidth-w-u),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return g(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return p(e)}),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=O.body.scrollWidth-n.left-r.width+o.right,n.bottom=O.body.scrollHeight-n.top-r.height+o.bottom,S.page.top>=n.top+o.top&&S.page.bottom>=n.bottom&&S.page.left>=n.left+o.left&&S.page.right>=n.right){var s=e.scrollTop,a=e.scrollLeft;S.offset={top:S.page.top-n.top+s-o.top,left:S.page.left-n.left+a-o.left}}}(),this.move(S),this.history.unshift(S),this.history.length>3&&this.history.pop(),e&&E(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t)for(var r in n[i]={},t[i]){for(var o=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[i]&&!P(a[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}var c={top:"",left:"",right:"",bottom:""},u=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;if(t.top?(c.top=0,i=n.top):(c.bottom=0,i=-n.bottom),t.left?(c.left=0,r=n.left):(c.right=0,r=-n.right),window.matchMedia)window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(r=Math.round(r),i=Math.round(i));c[I]="translateX("+r+"px) translateY("+i+"px)","msTransform"!==I&&(c[I]+=" translateZ(0)")}else t.top?c.top=n.top+"px":c.bottom=n.bottom+"px",t.left?c.left=n.left+"px":c.right=n.right+"px"},l=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",u(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",u(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){c.position="absolute";var i=e.cache("target-offsetparent",function(){return g(e.target)});g(e.element)!==i&&O(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),u(n.offset,t.offset),l=!0}():(c.position="absolute",u({top:!0,left:!0},t.page)),!l)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var h=!0,f=this.element.parentNode;f&&1===f.nodeType&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){h=!1;break}f=f.parentNode}h||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var d={},p=!1;for(var r in c){var v=c[r];this.element.style[r]!==v&&(p=!0,d[r]=v)}p&&O(function(){y(e.element.style,d),e.trigger("repositioned")})}}}]),e}();X.modules=[],o.position=q;var J=y(X,o),y=(T=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=(Y=o.Utils).getBounds,Y.extend),K=(F=Y.updateClasses,O=Y.defer,["left","top","right","bottom"]);o.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return p(e.element)}),s=o.height,a=o.width;if(0===a&&0===s&&void 0!==this.lastSize){var c=this.lastSize;a=c.width,s=c.height}var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),l=u.height,h=u.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&f.push(e),n&&f.push(n)}),f.forEach(function(t){["left","top","right","bottom"].forEach(function(e){f.push(t+"-"+e)})});var d=[],g=y({},r),v=y({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,c=t.attachment,u=t.pin;void 0===c&&(c="");var f=void 0,m=void 0;if(c.indexOf(" ")>=0){var y=c.split(" "),b=T(y,2);m=b[0],f=b[1]}else f=m=c;var _,w=("scrollParent"===(_=o)?_=e.scrollParents[0]:"window"===_&&(_=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),_===document&&(_=_.documentElement),void 0!==_.nodeType&&function(){var t=_,e=p(_),n=e,i=getComputedStyle(_);if(_=[n.left,n.top,e.width+n.left,e.height+n.top],t.ownerDocument!==document){var r=t.ownerDocument.defaultView;_[0]+=r.pageXOffset,_[1]+=r.pageYOffset,_[2]+=r.pageXOffset,_[3]+=r.pageYOffset}K.forEach(function(t,e){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?_[e]+=parseFloat(i["border"+t+"Width"]):_[e]-=parseFloat(i["border"+t+"Width"])})}(),_);"target"!==m&&"both"!==m||(n<w[1]&&"top"===g.top&&(n+=l,g.top="bottom"),n+s>w[3]&&"bottom"===g.top&&(n-=l,g.top="top")),"together"===m&&("top"===g.top&&("bottom"===v.top&&n<w[1]?(n+=l,g.top="bottom",n+=s,v.top="top"):"top"===v.top&&n+s>w[3]&&n-(s-l)>=w[1]&&(n-=s-l,g.top="bottom",v.top="bottom")),"bottom"===g.top&&("top"===v.top&&n+s>w[3]?(n-=l,g.top="top",n-=s,v.top="bottom"):"bottom"===v.top&&n<w[1]&&n+(2*s-l)<=w[3]&&(n+=s-l,g.top="top",v.top="top")),"middle"===g.top&&(n+s>w[3]&&"top"===v.top?(n-=s,v.top="bottom"):n<w[1]&&"bottom"===v.top&&(n+=s,v.top="top"))),"target"!==f&&"both"!==f||(i<w[0]&&"left"===g.left&&(i+=h,g.left="right"),i+a>w[2]&&"right"===g.left&&(i-=h,g.left="left")),"together"===f&&(i<w[0]&&"left"===g.left?"right"===v.left?(i+=h,g.left="right",i+=a,v.left="left"):"left"===v.left&&(i+=h,g.left="right",i-=a,v.left="right"):i+a>w[2]&&"right"===g.left?"left"===v.left?(i-=h,g.left="left",i-=a,v.left="right"):"right"===v.left&&(i-=h,g.left="left",i+=a,v.left="left"):"center"===g.left&&(i+a>w[2]&&"left"===v.left?(i-=a,v.left="right"):i<w[0]&&"right"===v.left&&(i+=a,v.left="left"))),"element"!==m&&"both"!==m||(n<w[1]&&"bottom"===v.top&&(n+=s,v.top="top"),n+s>w[3]&&"top"===v.top&&(n-=s,v.top="bottom")),"element"!==f&&"both"!==f||(i<w[0]&&("right"===v.left?(i+=a,v.left="left"):"center"===v.left&&(i+=a/2,v.left="left")),i+a>w[2]&&("left"===v.left?(i-=a,v.left="right"):"center"===v.left&&(i-=a/2,v.left="right"))),"string"==typeof u?u=u.split(",").map(function(t){return t.trim()}):!0===u&&(u=["top","left","right","bottom"]),u=u||[];var x,C,F=[],S=[];n<w[1]&&(u.indexOf("top")>=0?(n=w[1],F.push("top")):S.push("top")),n+s>w[3]&&(u.indexOf("bottom")>=0?(n=w[3]-s,F.push("bottom")):S.push("bottom")),i<w[0]&&(u.indexOf("left")>=0?(i=w[0],F.push("left")):S.push("left")),i+a>w[2]&&(u.indexOf("right")>=0?(i=w[2]-a,F.push("right")):S.push("right")),F.length&&(x=void 0,x=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),d.push(x),F.forEach(function(t){d.push(x+"-"+t)})),S.length&&(C=void 0,C=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),d.push(C),S.forEach(function(t){d.push(C+"-"+t)})),(F.indexOf("left")>=0||F.indexOf("right")>=0)&&(v.left=g.left=!1),(F.indexOf("top")>=0||F.indexOf("bottom")>=0)&&(v.top=g.top=!1),g.top===r.top&&g.left===r.left&&v.top===e.attachment.top&&v.left===e.attachment.left||(e.updateAttachClasses(v,g),e.trigger("update",{attachment:v,targetAttachment:g}))}),O(function(){!1!==e.options.addTargetClasses&&F(e.target,d,f),F(e.element,d,f)}),{top:n,left:i}}});var Y,p=(Y=o.Utils).getBounds,F=Y.updateClasses;O=Y.defer;o.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return p(e.element)}),o=r.height,s=r.width,a=this.getTargetBounds(),c=n+o,u=i+s,l=[];n<=a.bottom&&c>=a.top&&["left","right"].forEach(function(t){var e=a[t];e!==i&&e!==u||l.push(t)}),i<=a.right&&u>=a.left&&["top","bottom"].forEach(function(t){var e=a[t];e!==n&&e!==c||l.push(t)});var h=[],f=[];return h.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(t){h.push(e.getClass("abutted")+"-"+t)}),l.length&&f.push(this.getClass("abutted")),l.forEach(function(t){f.push(e.getClass("abutted")+"-"+t)}),O(function(){!1!==e.options.addTargetClasses&&F(e.target,f,h),F(e.element,f,h)}),!0}});T=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return o.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var s=T(i,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return{top:e+=r,left:n+=o}}}}),J})?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){var i=n(12),r=n(4),o=n(92),s=n(98),a=n(3),c=n(0),u=n(2).channel("global");t.exports=i.extend({channelName:"modal",initialize:function(t){this.container=t.container,this.start()},onStart:function(){this.channel.reply({open:this.open,close:this.close,alert:this.alert,confirm:this.confirm,prompt:this.prompt},this),this.layout=new o,this.container.show(this.layout),this.channel.reply({update:this.layout.update},this.layout),u.on({error:this.error},this),this.listenTo(r.history,{route:this.onRoute})},onStop:function(){delete this.layout,this.container.reset(),this.channel.reset()},onRoute:function(){this.fragment!==r.history.fragment&&this.close()},open:function(t){var e=this;return this.fragment=r.history.fragment,this.close().then(function(){return e.isOpen=!0,e.layout.open(t)})},close:function(){return this.isOpen?(this.isOpen=!1,this.layout.close()):a.Deferred().resolve()},error:function(t){(t=t||{}).jqXHR&&this.parseXHR(t);var e=new s({className:"error",title:t.status,message:t.message,raw:t.raw});this.open(e)},parseXHR:function(t){c.isObject(t.thrownError)?(t.status=t.thrownError.name,t.message=t.thrownError.message):(t.status=t.jqXHR.statusText,t.jqXHR.responseJSON&&t.jqXHR.responseJSON.message?t.message=t.jqXHR.responseJSON.message:t.jqXHR.responseJSON&&t.jqXHR.responseJSON.errors&&t.jqXHR.responseJSON.errors[0]&&(t.message=t.jqXHR.responseJSON.errors[0].message)),t.raw=t.jqXHR.responseText}})},function(t,e,n){var i=n(10),r=n(93),o=n(0),s=n(3),a=n(7),c=n(95),u=n(2),l=n(8)("modalLayout"),h=n(1);n(96),t.exports=i.extend({template:a.compile(c),className:function(){return h.prototype.namespace("modal")},attributes:{tabindex:-1,role:"dialog"},buttons:[{type:"message"},{action:"save",icon:"prepend",className:"btn-primary"}],regions:{header:".modal-header",content:".modal-body",footer:".modal-footer"},initialize:function(){this.$el.modal({show:!1,backdrop:"static"})},events:{'click [data-action="close"]':function(t){t.preventDefault(),u.request("modal","close")}},triggers:{"show.bs.modal":{preventDefault:!1,event:"before:open"},"shown.bs.modal":{preventDefault:!1,event:"open"},"hide.bs.modal":{preventDefault:!1,event:"before:close"},"hidden.bs.modal":{preventDefault:!1,event:"close"}},open:function(t){var e=s.Deferred();return this.once("open",e.resolve),this.setup(t),this.content.show(t),this.$el.modal("show"),e},close:function(){var t=s.Deferred();return this.once("close",function(){this.tearDown(),t.resolve()}),this.$el.modal("hide"),t},setup:function(t){var e=t.modal||{};o.defaults(e,{header:{},footer:{}}),o.each(e,function(t,e){var n=s.camelCase("modal-"+e);this[n]?this[n](t):l("no method matching "+n)},this)},tearDown:function(){this.header.empty(),this.content.empty(),this.footer.empty(),this.$(".modal-dialog").removeClass().addClass("modal-dialog")},update:function(t){t=t||{},o.each(t,function(t,e){this[e].currentView.triggerMethod("Update",t)},this)},modalHeader:function(t){var e=new r(t);this.header.show(e)},modalFooter:function(t){t.buttons=t.buttons||this.buttons;var e=u.request("buttons","view",t);this.footer.show(e)},modalTitle:function(t){this.$(".modal-header h1").html(t)},modalClassName:function(t){t&&this.$(".modal-dialog").addClass(t)},getButtons:function(){return this.getRegion("footer").currentView}})},function(t,e,n){var i=n(5),r=n(7),o=n(94),s=n(0),a=n(6);t.exports=i.extend({template:r.compile(o),initialize:function(t){t=t||{};var e={title:a.t("messages.loading"),close:a.t("buttons.close")};this.data=s.defaults(t,e)},templateHelpers:function(){return this.data.iconPrefix=window.adminpage?"wc_pos-icon":"icon",this.data},onUpdate:function(t){s.extend(this.data,t),this.render()}})},function(t,e){t.exports='<h4 class="{{namespace \'modal-title\'}} modal-title">\r\n  {{{title}}}\r\n</h4>\r\n<a class="{{namespace \'btn\'}} close" data-action="close">\r\n  <i class="{{namespace \'icon-times\'}}" title="{{close}}"></i>\r\n</a>'},function(t,e){t.exports="<div class=\"{{namespace 'modal-dialog'}} modal-dialog\">\r\n  <div class=\"{{namespace 'modal-content'}} modal-content\">\r\n    <div class=\"{{namespace 'modal-header'}} modal-header\"></div>\r\n    <div class=\"{{namespace 'modal-body'}} modal-body\"></div>\r\n    <div class=\"{{namespace 'modal-footer'}} modal-footer\"></div>\r\n  </div>\r\n</div>"},function(t,e,n){var i,r,o,s;s=function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r,o,s,a,c,u,l,h,f,d,p,g,v,m,y,b,_=(r=n)&&r.__esModule?r:{default:r},w=(o=jQuery,s="modal",c="."+(a="bs.modal"),u=o.fn[s],l={backdrop:!0,keyboard:!0,focus:!0,show:!0},h={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},f={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,FOCUSIN:"focusin"+c,RESIZE:"resize"+c,CLICK_DISMISS:"click.dismiss"+c,KEYDOWN_DISMISS:"keydown.dismiss"+c,MOUSEUP_DISMISS:"mouseup.dismiss"+c,MOUSEDOWN_DISMISS:"mousedown.dismiss"+c,CLICK_DATA_API:"click"+c+".data-api"},d="modal-scrollbar-measure",p="modal-backdrop",g="modal-open",v="fade",m="in",y={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed"},b=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=this._getConfig(n),this._element=e,this._dialog=o(e).find(y.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return i(t,[{key:"toggle",value:function(t){return this._isShown?this.hide():this.show(t)}},{key:"show",value:function(t){var e=this,n=o.Event(f.SHOW,{relatedTarget:t});o(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),o(document.body).addClass(g),this._setEscapeEvent(),this._setResizeEvent(),o(this._element).on(f.CLICK_DISMISS,y.DATA_DISMISS,o.proxy(this.hide,this)),o(this._dialog).on(f.MOUSEDOWN_DISMISS,function(){o(e._element).one(f.MOUSEUP_DISMISS,function(t){o(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(o.proxy(this._showElement,this,t)))}},{key:"hide",value:function(t){t&&t.preventDefault();var e=o.Event(f.HIDE);o(this._element).trigger(e),this._isShown&&!e.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),o(document).off(f.FOCUSIN),o(this._element).removeClass(m),o(this._element).off(f.CLICK_DISMISS),o(this._dialog).off(f.MOUSEDOWN_DISMISS),_.default.supportsTransitionEnd()&&o(this._element).hasClass(v)?o(this._element).one(_.default.TRANSITION_END,o.proxy(this._hideModal,this)).emulateTransitionEnd(300):this._hideModal())}},{key:"dispose",value:function(){o.removeData(this._element,a),o(window).off(c),o(document).off(c),o(this._element).off(c),o(this._backdrop).off(c),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null}},{key:"_getConfig",value:function(t){return t=o.extend({},l,t),_.default.typeCheckConfig(s,t,h),t}},{key:"_showElement",value:function(t){var e=this,n=_.default.supportsTransitionEnd()&&o(this._element).hasClass(v);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&_.default.reflow(this._element),o(this._element).addClass(m),this._config.focus&&this._enforceFocus();var i=o.Event(f.SHOWN,{relatedTarget:t}),r=function(){e._config.focus&&e._element.focus(),o(e._element).trigger(i)};n?o(this._dialog).one(_.default.TRANSITION_END,r).emulateTransitionEnd(300):r()}},{key:"_enforceFocus",value:function(){var t=this;o(document).off(f.FOCUSIN).on(f.FOCUSIN,function(e){document===e.target||t._element===e.target||o(t._element).has(e.target).length||t._element.focus()})}},{key:"_setEscapeEvent",value:function(){var t=this;this._isShown&&this._config.keyboard?o(this._element).on(f.KEYDOWN_DISMISS,function(e){27===e.which&&t.hide()}):this._isShown||o(this._element).off(f.KEYDOWN_DISMISS)}},{key:"_setResizeEvent",value:function(){this._isShown?o(window).on(f.RESIZE,o.proxy(this._handleUpdate,this)):o(window).off(f.RESIZE)}},{key:"_hideModal",value:function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._showBackdrop(function(){o(document.body).removeClass(g),t._resetAdjustments(),t._resetScrollbar(),o(t._element).trigger(f.HIDDEN)})}},{key:"_removeBackdrop",value:function(){this._backdrop&&(o(this._backdrop).remove(),this._backdrop=null)}},{key:"_showBackdrop",value:function(t){var e=this,n=o(this._element).hasClass(v)?v:"";if(this._isShown&&this._config.backdrop){var i=_.default.supportsTransitionEnd()&&n;if(this._backdrop=document.createElement("div"),this._backdrop.className=p,n&&o(this._backdrop).addClass(n),o(this._backdrop).appendTo(document.body),o(this._element).on(f.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide())}),i&&_.default.reflow(this._backdrop),o(this._backdrop).addClass(m),!t)return;if(!i)return void t();o(this._backdrop).one(_.default.TRANSITION_END,t).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){o(this._backdrop).removeClass(m);var r=function(){e._removeBackdrop(),t&&t()};_.default.supportsTransitionEnd()&&o(this._element).hasClass(v)?o(this._backdrop).one(_.default.TRANSITION_END,r).emulateTransitionEnd(150):r()}else t&&t()}},{key:"_handleUpdate",value:function(){this._adjustDialog()}},{key:"_adjustDialog",value:function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function(){var t=parseInt(o(y.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=t+this._scrollbarWidth+"px")}},{key:"_resetScrollbar",value:function(){document.body.style.paddingRight=this._originalBodyPadding}},{key:"_getScrollbarWidth",value:function(){var t=document.createElement("div");t.className=d,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}}],[{key:"_jQueryInterface",value:function(e,n){return this.each(function(){var i=o(this).data(a),r=o.extend({},t.Default,o(this).data(),"object"==typeof e&&e);if(i||(i=new t(this,r),o(this).data(a,i)),"string"==typeof e){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e](n)}else r.show&&i.show(n)})}},{key:"VERSION",get:function(){return"4.0.0-alpha.2"}},{key:"Default",get:function(){return l}}]),t}(),o(document).on(f.CLICK_DATA_API,y.DATA_TOGGLE,function(t){var e=this,n=void 0,i=_.default.getSelectorFromElement(this);i&&(n=o(i)[0]);var r=o(n).data(a)?"toggle":o.extend({},o(n).data(),o(this).data());"A"===this.tagName&&t.preventDefault();var s=o(n).one(f.SHOW,function(t){t.isDefaultPrevented()||s.one(f.HIDDEN,function(){o(e).is(":visible")&&e.focus()})});b._jQueryInterface.call(o(n),r,this)}),o.fn[s]=b._jQueryInterface,o.fn[s].Constructor=b,o.fn[s].noConflict=function(){return o.fn[s]=u,b._jQueryInterface},b);e.exports=w},r=[e,t,n(97)],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[e,t],void 0===(o="function"==typeof(i=function(t,e){"use strict";var n=function(t){var e=!1,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};function i(e){var n=this,i=!1;return t(this).one(r.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||r.triggerTransitionEnd(n)},e),this}var r={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){new Function("bs","return bs")(t.offsetHeight)},triggerTransitionEnd:function(n){t(n).trigger(e.end)},supportsTransitionEnd:function(){return Boolean(e)},typeCheckConfig:function(t,e,n){for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],o=e[i],s=void 0;if(o&&((c=o)[0]||c).nodeType?s="element":(a=o,s={}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()),!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a,c}};return e=function(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in n)if(void 0!==t.style[e])return{end:n[e]};return!1}(),t.fn.emulateTransitionEnd=i,r.supportsTransitionEnd()&&(t.event.special[r.TRANSITION_END]={bindType:e.end,delegateType:e.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),r}(jQuery);e.exports=n})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i=n(5),r=n(7),o=n(99);t.exports=i.extend({template:r.compile(o),initialize:function(t){t=t||{},this.message=t.message,this.raw=t.raw,this.modal={className:t.className,header:{title:t.title},footer:{buttons:[{action:"close"}]}}},templateHelpers:function(){var t={};return t.message=this.message,t.raw=this.raw,t},ui:{raw:'*[data-action="raw"]',output:".raw-output"},events:{"click @ui.raw":"toggleRaw"},toggleRaw:function(t){t.preventDefault(),this.ui.output.toggle()}})},function(t,e){t.exports='<p>\r\n  {{message}}\r\n  {{#if raw}}\r\n    <a href="#" data-action="raw"><i class="{{namespace \'icon-info-circle\'}}"></i></a>\r\n  {{/if}}\r\n<p>\r\n{{#if raw}}\r\n  <div class="raw-output" style="display:none">{{{raw}}}</div>\r\n{{/if}}'},function(t,e,n){var i=n(12),r=n(101),o=n(104);t.exports=i.extend({channelName:"tabs",initialize:function(){this.channel.reply({view:this.tabsView},this)},tabsView:function(t){return t=t||{},new r({collection:this.tabsCollection(t)})},tabsCollection:function(t){return new o(t.tabs)}})},function(t,e,n){var i=n(25),r=n(102),o=i.extend({tagName:"ul",childView:r,attributes:{class:"tabs",role:"tablist"},setActive:function(t){this.collection.get(t).set({active:!0})},setLabel:function(t){t=t||{},this.collection.get(t.tab).set({label:t.label})},onShow:function(){this.collection.ensureActiveTab()}});t.exports=o},function(t,e,n){var i=n(7),r=n(5),o=n(103),s=r.extend({tagName:"li",template:i.compile(o),className:function(){if(this.model.get("active"))return"active"},modelEvents:{"change:active":"toggleActive","change:label":"render"},toggleActive:function(){this.$el.toggleClass("active",this.model.get("active"))},triggers:{click:"tab:clicked",'click *[data-action="remove"]':"remove:tab"},onTabClicked:function(){this.model.set({active:!0})},onRemoveTab:function(){this.model.collection.remove(this.model)}});t.exports=s},function(t,e){t.exports='{{#unless fixed}}\r\n<a href="#" data-action="remove">\r\n  <i class="icon icon-times-circle"></i>\r\n</a>\r\n{{/unless}}\r\n{{{ label }}}'},function(t,e,n){var i=n(14),r=n(105),o=i.extend({model:r,initialize:function(){this.on({"change:active":this.onChangeActive,remove:this.ensureActiveTab})},onChangeActive:function(t,e){e&&(this.each(function(e){e.set({active:e===t})}),this.trigger("active:tab",t))},ensureActiveTab:function(){var t=this.where({active:!0});this.length>0&&0===t.length&&this.at(0).set({active:!0})}});t.exports=o},function(t,e,n){var i=n(16).extend({defaults:{id:"",label:"Tab",active:!1,fixed:!0}});t.exports=i},function(t,e,n){var i=n(12),r=n(26);t.exports=i.extend({channelName:"buttons",initialize:function(){this.channel.reply({view:this.view},this)},view:function(t){return new r(t)}})},function(t,e){t.exports='{{#each buttons}}\r\n\r\n  {{#if this.button}}\r\n    <button class="btn {{this.className}}"\r\n            {{#if this.action}}data-action="{{this.action}}"{{/if}}\r\n      {{#if this.toggle}}data-toggle="{{this.toggle}}"{{/if}}\r\n      {{#if this.loading}}data-loading="{{this.loadingText}}"{{/if}}\r\n      {{#if this.icon}}data-icon="{{this.icon}}"{{/if}}\r\n      {{#if this.disabled}}disabled{{/if}}\r\n      >\r\n      {{this.label}}\r\n    </button>\r\n  {{/if}}\r\n\r\n  {{#if this.link}}\r\n    <a href="#" class="btn {{this.className}}"\r\n       {{#if this.action}}data-action="{{this.action}}"{{/if}}\r\n      {{#if this.toggle}}data-toggle="{{this.toggle}}"{{/if}}\r\n      {{#if this.loading}}data-loading="{{this.loadingText}}"{{/if}}\r\n      {{#if this.icon}}data-icon="{{this.icon}}"{{/if}}\r\n      >\r\n      {{this.label}}\r\n    </a>\r\n  {{/if}}\r\n\r\n  {{#if this.input}}\r\n    <input type="button" class="btn {{this.className}}" value="{{this.label}}"\r\n           {{#if this.action}}data-action="{{this.action}}"{{/if}}\r\n      {{#if this.toggle}}data-toggle="{{this.toggle}}"{{/if}}\r\n      {{#if this.loading}}data-loading="{{this.loadingText}}"{{/if}}\r\n      >\r\n  {{/if}}\r\n\r\n  {{#if this.message}}\r\n    <p class="message {{this.className}}"></p>\r\n  {{/if}}\r\n\r\n{{/each}}'},function(t,e,n){var i=n(15),r=n(1),o=n(3),s=n(6),a="disabled",c=i.extend({loadingText:s.t("messages.loading"),ui:{btns:".btn",action:"[data-action]",toggle:"[data-toggle]",message:".message"},events:{"click @ui.action":"action","click @ui.toggle":"toggle","state @ui.btns":"setState"},namespace:function(t){return window.adminpage&&(t="wc_pos-"+t),t},action:function(t){t.preventDefault();var e=o(t.target).data("action");this.view.trigger("action:"+e,o(t.target),this.view,e)},toggle:function(t){t.preventDefault(),this.enable().disable(o(t.target));var e=o(t.target).data("toggle");this.view.trigger("toggle:"+e,o(t.target),this.view,e)},enable:function(t){return t?t.removeClass(a).prop(a,!1):this.ui.btns.each(function(){o(this).removeClass(a).prop(a,!1)}),this},disable:function(t){return t?t.addClass(a).prop(a,!0):this.ui.btns.each(function(){o(this).addClass(a).prop(a,!0)}),this},setState:function(t,e,n){var i=o(t.target);this["loading"===e?"disable":"enable"](),this.updateText(i),i.is("input")?this.updateInput(i,e):this.updateIcon(i,e),void 0!==n&&this.updateMessage(n,e)},updateText:function(t){if(void 0!==t.data("loading")){var e=t.is("input")?"val":"html",n=t[e](),i=t.data("loading")||this.loadingText;t.data("loading",n),t[e](i)}},updateIcon:function(t,e){if(void 0!==t.data("icon")){var n=t.data("icon")||"prepend",i="reset"!==e?this.icon(e):"";t.children("i").remove(),t[n](i)}},icon:function(t){return'<i class="'+this.namespace("icon-"+t)+'"></i>'},updateInput:function(t,e){t.removeClass("loading success error"),"reset"!==e&&t.addClass(e)},updateMessage:function(t,e){null===t&&(t=s.t("messages."+e)),e||(e=t,t=s.t("messages."+t)),"reset"===e&&(t=""),this.ui.message.removeClass("loading success error").addClass(this.namespace("text-"+e)).html(t)},onMessage:function(t,e){this.updateMessage(t,e)},onDisableButtons:function(){this.disable()},onEnableButtons:function(){this.enable()}});t.exports=c,r.prototype.set("Behaviors.Buttons",c)},function(t,e,n){var i,r,o,s;s=function(t,e,n){e.Stickit=n,n._handlers=[],n.addHandler=function(e){e=t.map(t.flatten([e]),function(e){return t.defaults({},e,{updateModel:!0,updateView:!0,updateMethod:"text"})}),this._handlers=this._handlers.concat(e)},n.ViewMixin={_modelBindings:null,unstickit:function(e,n){if(t.isObject(n))t.each(n,function(t,n){this.unstickit(e,n)},this);else{var i=[],r=[];this._modelBindings=t.reject(this._modelBindings,function(t){if(!(e&&t.model!==e||n&&t.config.selector!=n))return t.model.off(t.event,t.fn),r.push(t.config._destroy),i.push(t.model),!0}),t.invoke(t.uniq(i),"trigger","stickit:unstuck",this.cid),t.each(t.uniq(r),function(t){t.call(this)},this),this.$el.off(".stickit"+(e?"."+e.cid:""),n)}},stickit:function(e,n){var i=e||this.model,r=n||t.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(i,r);var o=this.remove;return o.stickitWrapped||(this.remove=function(){var t=this;return this.unstickit(),o&&(t=o.apply(this,arguments)),t}),this.remove.stickitWrapped=!0,this},addBinding:function(e,n,r){var g=e||this.model,v=".stickit."+g.cid;if(r=r||{},t.isObject(n)){var m=n;t.each(m,function(t,e){this.addBinding(g,e,t)},this)}else{var y=":el"===n?this.$el:this.$(n);if(this.unstickit(g,n),y.length){t.isString(r)&&(r={observe:r}),t.isFunction(r.observe)&&(r.observe=r.observe.call(this));var b=l(y,r),_=b.observe;b.selector=n,b.view=this;var w=b.bindId=t.uniqueId(),x=t.extend({stickitChange:b},b.setOptions);if(b._destroy=function(){o.call(this,b.destroy,y,g,b)},h(y,b,g,_),d(y,b,g,_),f(y,b,g,_),_){t.each(b.events,function(e){var r=e+v,a=":el"===n?"":n;this.$el.on(r,a,t.bind(function(t){var e=o.call(this,b.getVal,y,t,b,i.call(arguments,1));s(b.updateModel,e,t,b)&&c(g,_,e,x,b)},this))},this),t.each(t.flatten([_]),function(t){a(g,"change:"+t,b,function(t,e,n){if((n&&n.stickitChange&&n.stickitChange.bindId)!==w){var i=u(g,_,b);p(y,b,i,g)}})});var C=u(g,_,b);p(y,b,C,g,!0)}o.call(this,b.initialize,y,g,b)}}}},t.extend(e.View.prototype,n.ViewMixin);var i=[].slice,r=function(e,n){var i=(n||"").split("."),r=t.reduce(i,function(t,e){return t[e]},e);return null==r?e:r},o=function(e){if(e=t.isString(e)?r(this,e):e)return e.apply(this,i.call(arguments,1))},s=function(e,n,i){if(t.isBoolean(e))return e;if(t.isFunction(e)||t.isString(e)){var r=t.last(arguments).view;return o.apply(r,arguments)}return!1},a=function(t,e,n,i){var r=n.view;t.on(e,i,r),r._modelBindings.push({model:t,event:e,fn:i,config:n})},c=function(e,n,i,r,s){var a={},c=s.view;s.onSet&&(i=o.call(c,s.onSet,i,s)),s.set?o.call(c,s.set,n,i,r,s):(a[n]=i,t.isArray(n)&&t.isArray(i)&&(a=t.reduce(n,function(e,n,r){return e[n]=t.has(i,r)?i[r]:null,e},{})),e.set(a,r))},u=function(e,n,i){var r=i.view,s=function(t){return e[i.escape?"escape":"get"](t)},a=function(t){return null==t?"":t},c=t.isArray(n)?t.map(n,s):s(n);return i.onGet&&(c=o.call(r,i.onGet,c,i)),t.isArray(c)?t.map(c,a):a(c)},l=n.getConfiguration=function(e,i){var r=[{updateModel:!1,updateMethod:"text",update:function(t,e,n,i){t[i.updateMethod]&&t[i.updateMethod](e)},getVal:function(t,e,n){return t[n.updateMethod]()}}];(r=r.concat(t.filter(n._handlers,function(t){return e.is(t.selector)}))).push(i);var o=t.extend.apply(t,r);return t.has(o,"updateView")||(o.updateView=!o.visible),o},h=function(e,n,i,r){var o=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],s=n.view;t.each(n.attributes||[],function(c){(c=t.clone(c)).view=s;var l="",h=c.observe||(c.observe=r),f=function(){var n=t.contains(o,c.name)?"prop":"attr",r=u(i,h,c);"class"===c.name?(e.removeClass(l).addClass(r),l=r):e[n](c.name,r)};t.each(t.flatten([h]),function(t){a(i,"change:"+t,n,f)}),f()})},f=function(e,n,i,r){t.each(n.classes||[],function(r,o){t.isString(r)&&(r={observe:r}),r.view=n.view;var s=r.observe,c=function(){var t=u(i,s,r);e.toggleClass(o,!!t)};t.each(t.flatten([s]),function(t){a(i,"change:"+t,n,c)}),c()})},d=function(e,n,i,r){if(null!=n.visible){var s=n.view,c=function(){var a=n.visible,c=n.visibleFn,l=u(i,r,n),h=!!l;(t.isFunction(a)||t.isString(a))&&(h=!!o.call(s,a,l,n)),c?o.call(s,c,e,h,n):e.toggle(h)};t.each(t.flatten([r]),function(t){a(i,"change:"+t,n,c)}),c()}},p=function(t,e,n,i,r){var a=e.view;s(e.updateView,n,e)&&(o.call(a,e.update,t,n,i,e),r||o.call(a,e.afterUpdate,t,n,e))};return n.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:'input[type="radio"]',events:["change"],update:function(t,e){t.filter('[value="'+e+'"]').prop("checked",!0)},getVal:function(t){return t.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(n,i,r,o){if(n.length>1)i||(i=[]),n.each(function(n,r){var o=e.$(r),s=t.contains(i,o.val());o.prop("checked",s)});else{var s=t.isBoolean(i)?i:i===n.val();n.prop("checked",s)}},getVal:function(n){var i;if(n.length>1)i=t.reduce(n,function(t,n){var i=e.$(n);return i.prop("checked")&&t.push(i.val()),t},[]);else{i=n.prop("checked");var r=n.val();"on"!==r&&null!=r&&(i=i?n.val():null)}return i}},{selector:"select",events:["change"],update:function(n,i,s,a){var c,l=a.selectOptions,h=l&&l.collection||void 0,f=n.prop("multiple");if(!l){l={};var d=function(t){return t.map(function(t,n){var i=e.$(n).data("stickit-bind-val");return{value:void 0!==i?i:n.value,label:n.text}}).get()};n.find("optgroup").length?(h={opt_labels:[]},n.find("> option").length&&(h.opt_labels.push(void 0),t.each(n.find("> option"),function(t){h[void 0]=d(e.$(t))})),t.each(n.find("optgroup"),function(t){var n=e.$(t).attr("label");h.opt_labels.push(n),h[n]=d(e.$(t).find("option"))})):h=d(n.find("option"))}l.valuePath=l.valuePath||"value",l.labelPath=l.labelPath||"label",l.disabledPath=l.disabledPath||"disabled";var p=function(n,i,o){t.each(n,function(n){var s,a,c,u,h,d,p=e.$("<option/>"),g=n;"__default__"===n?(s=o.label,a=o.value,c=o.disabled):(s=r(n,l.labelPath),a=r(n,l.valuePath),c=r(n,l.disabledPath)),u=s,h=a,d=c,p.text(u),g=h,p.data("stickit-bind-val",g),t.isArray(g)||t.isObject(g)||p.val(g),!0===d&&p.prop("disabled","disabled");!f&&null!=g&&null!=o&&g===o||t.isObject(o)&&t.isEqual(g,o)?p.prop("selected",!0):f&&t.isArray(o)&&t.each(o,function(e){t.isObject(e)&&(e=r(e,l.valuePath)),(e===g||t.isObject(e)&&t.isEqual(g,e))&&p.prop("selected",!0)}),i.append(p)})};if(n.find("*").remove(),t.isString(h)){var g=window;0===h.indexOf("this.")&&(g=this),h=h.replace(/^[a-z]*\.(.+)$/,"$1"),c=r(g,h)}else c=t.isFunction(h)?o.call(this,h,n,a):h;if(c instanceof e.Collection){var v=c,m=function(){var t=u(s,a.observe,a);o.call(this,a.update,n,t,s,a)},y=function(){v.off("add remove reset sort",m)},b=function(){y(),v.off("stickit:selectRefresh"),s.off("stickit:selectRefresh")};v.trigger("stickit:selectRefresh"),v.once("stickit:selectRefresh",y,this),v.on("add remove reset sort",m,this),s.trigger("stickit:selectRefresh"),s.once("stickit:selectRefresh",function(){s.off("stickit:unstuck",b)}),s.once("stickit:unstuck",b,this),c=c.toJSON()}if(l.defaultOption){var _=t.isFunction(l.defaultOption)?l.defaultOption.call(this,n,a):l.defaultOption;p(["__default__"],n,_)}if(t.isArray(c))p(c,n,i);else if(c.opt_labels)t.each(c.opt_labels,function(t){var r=e.$("<optgroup/>").attr("label",t);p(c[t],r,i),n.append(r)});else{var w,x=[];for(var C in c)(w={})[l.valuePath]=C,w[l.labelPath]=c[C],x.push(w);x=t.sortBy(x,l.comparator||l.labelPath),p(x,n,i)}},getVal:function(n){var i=n.find("option:selected");return n.prop("multiple")?t.map(i,function(t){return e.$(t).data("stickit-bind-val")}):i.data("stickit-bind-val")}}]),n},r=[n(0),n(4),e],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i;i=function(t,e){return t.Validation=function(t){"use strict";var e,n,i,r,o,s,a,c,u,l,h={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},f={formatLabel:function(t,e){return y[h.labelFormatter](t,e)},format:function(){var t=Array.prototype.slice.call(arguments);return t.shift().replace(/\{(\d+)\}/g,function(e,n){return void 0!==t[n]?t[n]:e})}},d=function(e,n,i){return n=n||{},i=i||"",t.each(e,function(r,o){e.hasOwnProperty(o)&&(r&&t.isArray(r)?t.forEach(r,function(t,e){d(t,n,i+o+"."+e+"."),n[i+o+"."+e]=t}):r&&"object"==typeof r&&r.constructor===Object&&d(r,n,i+o+"."),n[i+o]=r)}),n},p=(e=function(e,n){var i=e.attributes;if(t.isFunction(i)?i=i(n):t.isString(i)&&t.isFunction(b[i])&&(i=b[i](n)),t.isArray(i))return i},n=function(e,n,i,r){return t.reduce((s=n,a=(o=e).validation&&t.result(o,"validation")[s]||{},(t.isFunction(a)||t.isString(a))&&(a={fn:a}),t.isArray(a)||(a=[a]),t.reduce(a,function(e,n){return t.each(t.without(t.keys(n),"msg"),function(t){e.push({fn:_[t],val:n[t],msg:n.msg})}),e},[])),function(o,s){var a=t.extend({},f,_),c=s.fn.call(a,i,n,s.val,e,r);return!1!==c&&!1!==o&&(c&&!o?t.result(s,"msg")||c:o)},"");var o,s,a},r=function(e,n,r){n.associatedViews?n.associatedViews.push(e):n.associatedViews=[e],t.extend(n,i(e,r))},o=function(e,n){n&&e.associatedViews&&e.associatedViews.length>1?e.associatedViews=t.without(e.associatedViews,n):(delete e.validate,delete e.preValidate,delete e.isValid,delete e.associatedViews)},s=function(t){r(this.view,t,this.options)},a=function(t){o(t)},{version:"0.11.3",configure:function(e){t.extend(h,e)},bind:function(e,n){var i=(n=t.extend({},h,g,n)).model||e.model,o=n.collection||e.collection;if(void 0===i&&void 0===o)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";i?r(e,i,n):o&&(o.each(function(t){r(e,t,n)}),o.bind("add",s,{view:e,options:n}),o.bind("remove",a))},unbind:function(e,n){var i=(n=t.extend({},n)).model||e.model,r=n.collection||e.collection;i?o(i,e):r&&(r.each(function(t){o(t,e)}),r.unbind("add",s),r.unbind("remove",a))},mixin:(i=function(i,r){return{preValidate:function(e,i){var r,o=this,s={};return t.isObject(e)?(t.each(e,function(t,e){(r=o.preValidate(e,t))&&(s[e]=r)}),t.isEmpty(s)?void 0:s):n(this,e,i,t.extend({},this.attributes))},isValid:function(o){var s,a,c,u;return o=o||e(r,i),t.isString(o)?a=[o]:t.isArray(o)&&(a=o),a&&(s=d(this.attributes),t.each(this.associatedViews,function(e){t.each(a,function(i){(c=n(this,i,s[i],t.extend({},this.attributes)))?(r.invalid(e,i,c,r.selector),(u=u||{})[i]=c):r.valid(e,i,r.selector)},this)},this)),!0===o&&(u=this.validate()),u&&this.trigger("invalid",this,u,{validationError:u}),a?!u:!this.validation||this._isValid},validate:function(o,s){var a,c,u,l,h,f,p,g,v,m=this,y=!o,b=t.extend({},r,s),_=(g=m,v=(v=e(r,i))||t.keys(t.result(g,"validation")||{}),t.reduce(v,function(t,e){return t[e]=void 0,t},{})),w=t.extend({},_,m.attributes,o),x=d(w),C=o?d(o):x,F=(a=m,c=w,u=t.pick(x,t.keys(_)),h={},f=!0,p=t.clone(c),t.each(u,function(t,e){(l=n(a,e,t,p))&&(h[e]=l,f=!1)}),{invalidAttrs:h,isValid:f});if(m._isValid=F.isValid,t.each(m.associatedViews,function(e){t.each(_,function(t,n){var i=F.invalidAttrs.hasOwnProperty(n),r=C.hasOwnProperty(n);i||b.valid(e,n,b.selector),i&&(r||y)&&b.invalid(e,n,F.invalidAttrs[n],b.selector)})}),t.defer(function(){m.trigger("validated",m._isValid,m,F.invalidAttrs),m.trigger("validated:"+(m._isValid?"valid":"invalid"),m,F.invalidAttrs)}),!b.forceUpdate&&t.intersection(t.keys(F.invalidAttrs),t.keys(C)).length>0)return F.invalidAttrs}}})(null,h)}),g=p.callbacks={valid:function(t,e,n){t.$("["+n+'~="'+e+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(t,e,n,i){t.$("["+i+'~="'+e+'"]').addClass("invalid").attr("data-error",n)}},v=p.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},m=p.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},y=p.labelFormatters={none:function(t){return t},sentenceCase:function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toUpperCase():" "+t.toLowerCase()}).replace(/_/g," ")},label:function(t,e){return e.labels&&e.labels[t]||y.sentenceCase(t,e)}},b=p.attributeLoaders={inputNames:function(t){var e=[];return t&&t.$("form [name]").each(function(){/^(?:input|select|textarea)$/i.test(this.nodeName)&&this.name&&"submit"!==this.type&&-1===e.indexOf(this.name)&&e.push(this.name)}),e}},_=p.validators=(c=String.prototype.trim?function(t){return null===t?"":String.prototype.trim.call(t)}:function(t){return null===t?"":t.toString().replace(/^\s+/,"").replace(/\s+$/,"")},u=function(e){return t.isNumber(e)||t.isString(e)&&e.match(v.number)},l=function(e){return!(t.isNull(e)||t.isUndefined(e)||t.isString(e)&&""===c(e)||t.isArray(e)&&t.isEmpty(e))},{fn:function(e,n,i,r,o){return t.isString(i)&&(i=r[i]),i.call(r,e,n,o)},required:function(e,n,i,r,o){var s=t.isFunction(i)?i.call(r,e,n,o):i;return!(!s&&!l(e))&&(s&&!l(e)?this.format(m.required,this.formatLabel(n,r)):void 0)},acceptance:function(e,n,i,r){if("true"!==e&&(!t.isBoolean(e)||!1===e))return this.format(m.acceptance,this.formatLabel(n,r))},min:function(t,e,n,i){if(!u(t)||t<n)return this.format(m.min,this.formatLabel(e,i),n)},max:function(t,e,n,i){if(!u(t)||t>n)return this.format(m.max,this.formatLabel(e,i),n)},range:function(t,e,n,i){if(!u(t)||t<n[0]||t>n[1])return this.format(m.range,this.formatLabel(e,i),n[0],n[1])},length:function(e,n,i,r){if(!t.isString(e)||e.length!==i)return this.format(m.length,this.formatLabel(n,r),i)},minLength:function(e,n,i,r){if(!t.isString(e)||e.length<i)return this.format(m.minLength,this.formatLabel(n,r),i)},maxLength:function(e,n,i,r){if(!t.isString(e)||e.length>i)return this.format(m.maxLength,this.formatLabel(n,r),i)},rangeLength:function(e,n,i,r){if(!t.isString(e)||e.length<i[0]||e.length>i[1])return this.format(m.rangeLength,this.formatLabel(n,r),i[0],i[1])},oneOf:function(e,n,i,r){if(!t.include(i,e))return this.format(m.oneOf,this.formatLabel(n,r),i.join(", "))},equalTo:function(t,e,n,i,r){if(t!==r[n])return this.format(m.equalTo,this.formatLabel(e,i),this.formatLabel(n,i))},pattern:function(t,e,n,i){if(!l(t)||!t.toString().match(v[n]||n))return this.format(m[n]||m.inlinePattern,this.formatLabel(e,i),n)}});return t.each(_,function(e,n){_[n]=t.bind(_[n],t.extend({},f,_))}),p}(e),t.Validation},t.exports=i(n(4),n(0))},function(t,e,n){var i=n(4),r=n(0);i.Stickit.addHandler({selector:".autogrow",afterUpdate:function(t){t.trigger("input")}}),i.Stickit.addHandler({selector:"select.select2",initialize:function(t,e,n){t.trigger("stickit:init",n.observe);var i=r.get(n,["view","select2",n.observe],{});t.select2(i)},getVal:function(t){return t.val()}}),i.Stickit.addHandler({selector:"select[multiple].select2",onSet:function(t,e){return r.isArray(t)&&this.model.unset(e.observe,{silent:!0}),t}})},,function(t,e,n){var i=n(12),r=n(114),o=n(0),s=n(8)("loading");t.exports=i.extend({channelName:"loading",initialize:function(t){o.defaults(t,{type:"spinner",message:""}),t.container&&this[t.type]?this[t.type](t):s("invalid loading options",t)},spinner:function(t){var e=new r({message:t.message});t.container.show(e)},opacity:function(t){t.container.currentView.$el.css({opacity:.5})}})},function(t,e,n){var i=n(5),r=n(0),o=n(1),s=i.extend({className:"loading",iconPrefix:"icon-",initialize:function(){this.on("update:message",this.render),this.timeout=setTimeout(r.bind(this.fail,this),6e4),window.adminpage&&(this.iconPrefix="wc_pos-icon-")},render:function(){var t="";return r.isEmpty(this.options.message)||(t="<p>"+this.options.message+"</p>"),this.$el.html("<p>"+this.icon()+"</p>"+t),this},onBeforeDestroy:function(){clearTimeout(this.timeout)},fail:function(t){this.options.message=t||"Script Error",this.render(),this.$("i").removeClass("icon-spinner").addClass("icon-fail")},icon:function(){return'<i class="'+this.iconPrefix+"spinner "+this.iconPrefix+'lg"></i>'}});t.exports=s,o.prototype.set("Components.Loading.View",s)},,,function(t,e,n){var i=n(0),r=n(7),o=n(18),s=n(35),a=n(13),c=n(1);r.registerHelper("is",function(t,e,n){return t&&i.includes(e.split("|"),t)?n.fn(this):n.inverse(this)}),r.registerHelper("compare",function(t,e,n,i){if(arguments.length<3)throw new Error('Handlebars Helper "compare" needs 2 parameters');void 0===i&&(i=n,n=e,e="===");var r={"===":function(t,e){return t===e},"!==":function(t,e){return t!==e},"<":function(t,e){return t<e},">":function(t,e){return t>e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e}};if(!r[e])throw new Error('Handlebars Helper "compare" doesn\'t know the operator '+e);return r[e](t,n)?i.fn(this):i.inverse(this)}),r.registerHelper("list",function(t,e,n){return i.isArray(t)||i.isObject(t)?i.map(t,n.fn).join(e):n.fn(t)}),r.registerHelper("csv",function(t,e){return e.fn(t.join(", "))}),r.registerHelper("money",function(t,e){var n=o.settings.currency.precision,i=e.hash.precision||n;return"auto"===i&&(i=a.decimalPlaces(t)),t=a.round(t,i),e.hash.negative&&(t*=-1),o.formatMoney(t)}),r.registerHelper("number",function(t,e){var n=o.settings.number.precision,i=e.hash.precision||n;return"auto"===i&&(i=a.decimalPlaces(t)),e.hash.negative&&(t*=-1),o.formatNumber(t,i)}),r.registerHelper("formatAddress",function(t,e){var n=[[(t=t||{}).first_name,t.last_name],[t.company],[t.address_1],[t.address_2],[t.city,t.state,t.postcode]],o=i.chain(n).map(function(t){return i.compact(t).join(" ")}).compact().join("<br>\n").value();return""!==o&&e.hash.title&&(o="<h3>"+e.hash.title+"</h3>\n"+o),new r.SafeString(o)}),r.registerHelper("formatDate",function(t,e){var n=e.hash.format||"";return s(t).format(n)}),r.registerHelper("formatDay",function(t,e){var n=e.hash.format||"",i=parseInt(t,10)+1;return s().isoWeekday(i).format(n)}),r.registerHelper("debug",function(t){console.log("Current Context"),console.log("===================="),console.log(this),t&&(console.log("Value"),console.log("===================="),console.log(t))}),r.registerHelper("formatCustomerName",function(t){var e=i(t).pick(["first_name","last_name"]).values().map(function(t){return t.trim()}).compact().value().join(" ");return t&&!e&&(e=t.username),e}),r.registerHelper("namespace",function(t){return c.prototype.namespace(t)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(225),r=n(60),o=n(91),s=n(100),a=n(106),c=n(227);n(117);var u=new i;u.entities=new r({app:u}),u.settingsApp=new c({container:u.layout.getRegion("main")}),u.modalApp=new o({container:u.layout.getRegion("modal")}),u.tabsService=new s,u.buttonsService=new a,t.exports=u},function(t,e,n){var i=n(1),r=n(4),o=n(0),s=n(226),a=n(8)("admin"),c=n(2),u=c.channel("router");t.exports=i.extend({initialize:function(){this.layout=new s,this.layout.render(),this.listenTo(u,{"before:enter:route":this.onBeforeEnterRoute,"enter:route":this.onEnterRoute,"error:route":this.onErrorRoute})},onBeforeStart:function(t){t=t||{},a("starting WooCommerce POS admin app"),this.settingsApp.tabsArray=o.map(t.settings,function(t){return o.pick(t,["id","label"])});var e=o.map(t.settings,function(t){return o.set(t,["data","id"],t.id),t.data});c.request("entities","get",{type:"collection",name:"settings"}).add(e)},onStart:function(){r.history.start()},onBeforeEnterRoute:function(){this.transitioning=!0},onEnterRoute:function(){this.transitioning=!1},onErrorRoute:function(){this.transitioning=!1}})},function(t,e,n){var i=n(10);t.exports=i.extend({el:"#wpbody-content .wrap",template:function(){return'<div id="wc_pos-admin"></div><div id="wc_pos-modal"></div>'},regions:{main:"#wc_pos-admin",modal:"#wc_pos-modal"}})},function(t,e,n){var i=n(1),r=n(39),o=n(228),s=n(229),a=n(232),c=n(236),u=n(238),l=n(240),h=n(244),f=n(4),d=f.Radio,p=n(0),g=r.extend({initialize:function(t){this.container=t.container,this.collection=d.request("entities","get",{type:"collection",name:"settings"})},onBeforeEnter:function(){this.layout=new o,this.listenTo(this.layout,"show",this.showTabs),this.container.show(this.layout)},routes:{"":"showGeneral",general:"showGeneral",checkout:"showCheckout",hotkeys:"showHotkeys",access:"showAccess",tools:"showTools",status:"showStatus"},onBeforeRoute:function(){this.layout.getRegion("footer").empty()},showTabs:function(){var t=f.history.getHash()||"general",e=p.findWhere(this.tabsArray,{id:t});e&&(e.active=!0);var n=d.request("tabs","view",{tabs:this.tabsArray});this.listenTo(n,"show",function(){n.$el.addClass("nav-tab-wrapper"),n.children.each(function(t){t.$el.addClass("nav-tab")})}),this.listenTo(n.collection,"change:active",function(t,e){e&&this.navigate(t.id,{trigger:!0,replace:!0})}),this.layout.getRegion("tabs").show(n)},showGeneral:function(){var t=this.collection.get("general");return this.showFooter({model:t}),new s({container:this.layout.getRegion("settings"),model:t})},showCheckout:function(){var t=this.collection.get("checkout");return this.showFooter({model:t}),new a({container:this.layout.getRegion("settings"),model:t})},showHotkeys:function(){var t=this.collection.get("hotkeys");return this.showFooter({model:t}),new c({container:this.layout.getRegion("settings"),model:t})},showAccess:function(){var t=this.collection.get("access");return this.showFooter({model:t}),new u({container:this.layout.getRegion("settings"),model:t})},showTools:function(){return new l({container:this.layout.getRegion("settings")})},showStatus:function(){return new h({container:this.layout.getRegion("settings")})},showFooter:function(t){p.defaults(t,{buttons:[{action:"save",className:"button-primary",icon:"append"},{type:"message"},{action:"restore",className:"button-secondary alignright",icon:"prepend"}]});var e=d.request("buttons","view",t);this.listenTo(e,{"action:save":function(e){t.model.save([],{buttons:e})},"action:restore":function(e){t.model.destroy({buttons:e})}}),this.layout.getRegion("footer").show(e)}});t.exports=g,i.prototype.set("SettingsApp.Router",g)},function(t,e,n){var i=n(10),r=n(1),o=i.extend({template:function(){return'<div id="wc_pos-settings-tabs"></div><div id="wc_pos-settings"></div><div id="wc_pos-settings-footer"></div>'},regions:{tabs:"#wc_pos-settings-tabs",settings:"#wc_pos-settings",footer:"#wc_pos-settings-footer"}});t.exports=o,r.prototype.set("SettingsApp.LayoutView",o)},function(t,e,n){var i=n(11),r=n(1),o=n(230),s=i.extend({initialize:function(t){t=t||{},this.container=t.container,this.model=t.model},fetch:function(){if(this.model&&this.model.isNew())return this.model.fetch()},render:function(){var t=new o({model:this.model});this.container.show(t)}});t.exports=s,r.prototype.set("SettingsApp.General.Route",s)},function(t,e,n){var i=n(17),r=n(3),o=n(1),s=n(231),a=n(24),c=i.extend({template:"general",attributes:{id:"wc_pos-settings-general"},behaviors:{Tooltip:{behaviorClass:a},CustomerSelect:{behaviorClass:s}},select2:{discount_quick_keys:{maximumSelectionLength:4}},modelEvents:{"change:id":"render","change:logged_in_user":function(t,e){this.ui.customerSelect.prop("disabled",e)}},ui:{customerSelect:'select[data-select="customer"]'},onRender:function(){var t=this;this.$("input, select, textarea").each(function(){var e=r(this).attr("name");e&&t.addBinding(null,'*[name="'+e+'"]',e)}),this.model.get("logged_in_user")&&this.ui.customerSelect.prop("disabled",!0)}});t.exports=c,o.prototype.set("SettingsApp.General.View",c)},function(t,e,n){var i=n(15),r=n(1),o=n(2),s=n(0),a=n(3),c=n(7),u=i.extend({initialize:function(){var t=o.request("entities","get",{type:"option",name:"customers"});t.ajaxurl=o.request("entities","get",{type:"option",name:"ajaxurl"}),t.wc_nonce=o.request("entities","get",{type:"option",name:"search_customers_nonce"}),this.mergeOptions(t,["guest","default","ajaxurl","wc_nonce"])},ui:{select:'select[data-select="customer"]'},events:{"stickit:init @ui.select":function(t,e){var n=this.getOption("ajaxurl"),i=this.getOption("wc_nonce"),r=this.getOption("guest");this.view.select2=this.view.select2||{},this.view.select2[e]={minimumInputLength:3,ajax:{url:n,dataType:"json",delay:250,data:function(t){return{term:t.term,action:"woocommerce_json_search_customers",security:i}},processResults:function(t){var e=[];return t&&a.each(t,function(t,n){e.push({id:t,text:n})}),e.unshift({id:"0",text:r.first_name}),{results:e}},cache:!0},escapeMarkup:function(t){return t}}}},onRender:function(){s.isEmpty(this.ui.select.data("placeholder"))&&this.initSelection()},initSelection:function(){var t=this.getOption("default")||this.getOption("guest"),e=c.helpers.formatCustomerName(t);this.ui.select.html(a("<option />").val(t.id).text(e)).trigger("change")}});t.exports=u,r.prototype.set("Behaviors.CustomerSelect",u)},function(t,e,n){var i=n(11),r=n(1),o=n(233),s=n(235),a=n(2),c=i.extend({initialize:function(t){t=t||{},this.container=t.container,this.model=t.model},fetch:function(){if(this.model.isNew())return this.model.fetch()},render:function(){var t=new o({model:this.model});this.listenTo(t,"open:modal",this.openModal),this.container.show(t)},openModal:function(t,e){var n=this.model.collection.add({id:"gateway_"+t});n.get("title")||this.initModalData(n,e);var i=new s({tmpl:e.modalTmpl,model:n}),r=this;a.request("modal","open",i).then(function(t){var e=t.view.getButtons();r.listenTo(e,"action:save",function(t){n.save([],{buttons:t})})})},initModalData:function(t,e){function n(e){return"#"+t.id+" .gateway-"+e}var i={title:e.$(n("name")).html(),description:e.$(n("description")).html(),icon:!!e.$(n("icon")).data("show")};i.hasIcon=e.$(n("icon")).data("icon"),t.set(i)}});t.exports=c,r.prototype.set("SettingsApp.Route",c)},function(t,e,n){var i=n(17),r=n(3),o=n(1),s=n(24),a=n(234),c=i.extend({template:"checkout",attributes:{id:"wc_pos-settings-checkout"},modelEvents:{"change:id":"render"},onRender:function(){var t=this;this.$("input, select, textarea").each(function(){var e=r(this).attr("name");e&&t.addBinding(null,'*[name="'+e+'"]',e)}),this.modalTmpl=this.$("#tmpl-gateway-settings-modal").html()},ui:{settings:".gateway-settings"},events:{"click @ui.settings":"openGatewaySettingsModal"},behaviors:{Tooltip:{behaviorClass:s},Sortable:{behaviorClass:a}},openGatewaySettingsModal:function(t){t.preventDefault();var e=r(t.target).data("gateway");this.trigger("open:modal",e,this)}});t.exports=c,o.prototype.set("SettingsApp.View")},function(t,e,n){var i=n(15),r=n(1),o=n(3),s=n(0),a=i.extend({initialize:function(t){this.options=s.defaults(t,{items:"tr",cursor:"move",axis:"y",handle:"td",scrollSensitivity:40,helper:function(t,e){return e.children().each(function(){o(this).width(o(this).width())}),e},start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.removeAttr("style"),o("input.gateway_order",this).each(function(t){o(this).val(t),o(this).trigger("input")})}})},ui:{sortable:".sortable"},onRender:function(){if(this.ui.sortable.length>0){var t=this.ui.sortable,e=t.find("tbody tr").get();t.append(e.sort(function(t,e){return parseInt(o(t).find("input.gateway_order").val(),10)-parseInt(o(e).find("input.gateway_order").val(),10)})),t.sortable(this.options)}}});t.exports=a,r.prototype.set("Behaviors.Sortable",a)},function(t,e,n){var i=n(17),r=n(3),o=n(24),s=n(2);t.exports=i.extend({tagName:"table",className:"wc_pos-form-table",initialize:function(t){t=t||{},this.template=t.tmpl.trim(),this.modal={header:{title:this.model.get("title")},footer:{buttons:[{type:"message"},{action:"save",className:"button-primary",icon:"prepend"}]}}},behaviors:{Tooltip:{behaviorClass:o}},modelEvents:{"change:title":function(t,e){var n={};n.header={title:e},s.request("modal","update",n)}},onRender:function(){var t=this;this.$("input, select, textarea").each(function(){var e=r(this).attr("name");e&&t.addBinding(null,'*[name="'+e+'"]',e)}),this.model.get("hasIcon")&&this.$("#icon").closest("tr").show()}})},function(t,e,n){var i=n(11),r=n(1),o=n(237),s=i.extend({initialize:function(t){t=t||{},this.container=t.container,this.model=t.model},render:function(){var t=new o({model:this.model});this.container.show(t)}});t.exports=s,r.prototype.set("SettingsApp.HotKeys.Route",s)},function(t,e,n){var i=n(17),r=n(3),o=n(1),s=n(24),a=i.extend({template:"hotkeys",attributes:{id:"wc_pos-settings-hotkeys"},behaviors:{Tooltip:{behaviorClass:s}},modelEvents:{"change:id":"render"},onRender:function(){var t=this;this.$("input, select, textarea").each(function(){var e=r(this).attr("name");e&&t.addBinding(null,'*[name="'+e+'"]',e)})}});t.exports=a,o.prototype.set("SettingsApp.HotKeys.View")},function(t,e,n){var i=n(11),r=n(1),o=n(239),s=i.extend({initialize:function(t){t=t||{},this.container=t.container,this.model=t.model},fetch:function(){if(this.model.isNew())return this.model.fetch()},render:function(){var t=new o({model:this.model});this.container.show(t)}});t.exports=s,r.prototype.set("SettingsApp.Access.Route",s)},function(t,e,n){var i=n(17),r=n(1),o=n(3),s=i.extend({template:"access",attributes:{id:"wc_pos-settings-access"},ui:{tabs:".wc_pos-access-tabs > li",options:".wc_pos-access-panel > li"},events:{"click @ui.tabs":"onTabClick"},modelEvents:{"change:id":"render"},onRender:function(){var t=this;this.$("input, select, textarea").each(function(){var e=o(this).attr("name");e&&t.addBinding(null,'*[name="'+e+'"]',e)}),this.ui.tabs.first().addClass("active"),this.ui.options.first().addClass("active")},onTabClick:function(t){this.ui.tabs.each(function(){o(this).removeClass("active")}),this.ui.options.each(function(){o(this).removeClass("active")}),o(t.currentTarget).addClass("active");var e=o(t.currentTarget).data("id");o("#"+e).addClass("active")}});t.exports=s,r.prototype.set("SettingsApp.Access.View")},function(t,e,n){var i=n(11),r=n(1),o=n(241),s=n(242),a=n(243),c=n(2),u=i.extend({initialize:function(t){t=t||{},this.container=t.container},render:function(){var t=new o;this.listenTo(t,{"translation:update":this.openTranslationModal,"data:delete":this.openDataDeleteModal}),this.container.show(t)},openTranslationModal:function(t){var e=t.view.$('[data-action="translation"]').data("title"),n=new s({title:e});c.request("modal","open",n)},openDataDeleteModal:function(t){var e=t.view.$('[data-action="delete-local-data"]').data("title"),n=new a({title:e});c.request("modal","open",n)}});t.exports=u,r.prototype.set("SettingsApp.Tools.Route",u)},function(t,e,n){var i=n(5),r=n(1),o=n(40),s=i.extend({template:"tools",attributes:{id:"wc_pos-settings-tools"},behaviors:{EmulateHTTP:{behaviorClass:o}},ui:{translation:'*[data-action="translation"]',deleteData:'*[data-action="delete-local-data"]'},triggers:{"click @ui.translation":"translation:update","click @ui.deleteData":"data:delete"}});t.exports=s,r.prototype.set("SettingsApp.Tools.View")},function(t,e,n){(function(e){var i=n(5),r=n(2),o=e.EventSource;t.exports=i.extend({template:function(){return'<i class="wc_pos-icon-loading"></i>'},initialize:function(t){t=t||{},this.modal={header:{title:t.title},footer:{show:!1,buttons:[{action:"close",className:"button"}]}}},ui:{loading:".wc_pos-icon-loading"},onShow:function(){var t=this,e=this.constructURL();new o(e).onmessage=function(e){"complete"===e.data?(this.close(),t.ui.loading.hide(),r.request("modal","update",{footer:{show:!0}})):t.ui.loading.before("<p>"+e.data+"</p>")}},constructURL:function(){return r.request("entities","get",{type:"option",name:"ajaxurl"})+"?action=wc_pos_update_translations&security="+r.request("entities","get",{type:"option",name:"nonce"})}})}).call(e,n(33))},function(t,e,n){var i=n(5);t.exports=i.extend({dbs:["wc_pos_products","wc_pos_cart","wc_pos_orders","wc_pos_customers","wc_pos_coupons"],template:function(){return'<i class="wc_pos-icon-loading"></i>'},initialize:function(t){t=t||{},this.modal={header:{title:t.title},footer:{show:!1,buttons:[{action:"close",className:"button"}]}}},ui:{loading:".wc_pos-icon-loading"},onShow:function(){window.indexedDB&&window.indexedDB.deleteDatabase?this.deleteDatabases():this.printToScreen("Browser does not support IndexedDB deleteDatabase!")},printToScreen:function(t){this.ui.loading.before(t+" ")},deleteDatabases:function(){var t=this,e=this.dbs.shift(),n=window.indexedDB.deleteDatabase(e);n.onerror=function(){t.printToScreen("Error deleting database, please make sure the POS is not open in another tab.")},n.onsuccess=function(){window.localStorage.removeItem(e+"_idbVersion"),0===t.dbs.length?(t.ui.loading.hide(),t.printToScreen("All local data deleted successfully.")):(t.printToScreen("."),t.deleteDatabases())}}})},function(t,e,n){var i=n(11),r=n(1),o=n(245),s=i.extend({initialize:function(t){t=t||{},this.container=t.container},fetch:function(){},render:function(){var t=new o;this.container.show(t)}});t.exports=s,r.prototype.set("SettingsApp.Status.Route",s)},function(t,e,n){var i=n(5),r=n(1),o=n(40),s=i.extend({template:"status",attributes:{id:"wc_pos-settings-status"},behaviors:{EmulateHTTP:{behaviorClass:o}}});t.exports=s,r.prototype.set("SettingsApp.Status.View")}]);